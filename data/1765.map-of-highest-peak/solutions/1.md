## [1765.åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/map-of-highest-peak/solutions/100000/gong-shui-san-xie-duo-yuan-bfs-yun-yong-8sw0f)

ä½œè€…ï¼š[AC_OIer](https://leetcode.cn/u/AC_OIer)
## å¤šæº BFS

è¿™æ˜¯ä¸€é“ã€Œå¤šæº `BFS`ã€æ¿å­é¢˜ï¼Œå¯¹ã€Œå¤šæº `BFS`ã€ä¸ç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥çœ‹çœ‹å‰ç½® ğŸ§€ï¼š[å¤šæº BFS å…¥é—¨](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247487179&idx=1&sn=e30a662c03fba3861254dbcf3fb9d6f2&chksm=fd9ca5d4caeb2cc205804fd17a2ce86b25d0408adc3417e73154f59d37e7cb17e02374f5122c&scene=178&cur_album_id=1917113998693449732#rd)ã€‚

é‡Œé¢è¯¦è§£äº†ã€Œå¤šæº `BFS`ã€ä¸ã€Œå•æº `BFS`ã€æ¿å­ä¸Šçš„åŒºåˆ«ï¼Œå¼ºè°ƒäº†å¯ä»¥é€šè¿‡å»ºç«‹ã€Œè™šæ‹Ÿæºç‚¹ã€çš„æ–¹å¼ï¼Œå°†ã€Œå¤šæº `BFS`ã€è½¬æ¢å›ã€Œå•æº `BFS`ã€é—®é¢˜ã€‚

å›åˆ°æœ¬é¢˜ï¼Œé¢˜ç›®è§„å®šäº†æ°´åŸŸåŒºåŸŸçš„é«˜åº¦ä¸º $0$ï¼Œç„¶åç›¸é‚»æ ¼å­ä¹‹é—´çš„é«˜åº¦å·®è‡³å¤šä¸º $1$ï¼Œ

æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰æ°´åŸŸï¼ˆé«˜åº¦ä¸º $0$ï¼‰åŒºåŸŸè¿›è¡Œå…¥é˜Ÿï¼Œç„¶åè·‘ä¸€é `BFS` å³å¯ã€‚

å°†æ‰€æœ‰æ°´åŸŸï¼ˆé«˜åº¦ä¸º $0$ï¼‰åŒºåŸŸè¿›è¡Œå…¥é˜Ÿçš„æ“ä½œå¯çœ‹ä½œæ˜¯å°†ä¸ã€Œè™šæ‹Ÿæºç‚¹ã€é“¾æ¥çš„èŠ‚ç‚¹è¿›è¡Œå…¥é˜Ÿï¼ˆä¹Ÿç­‰ä»·äºèµ·å§‹åªå°†è™šæ‹Ÿæºç‚¹å…¥é˜Ÿï¼‰ï¼š

![image.png](https://pic.leetcode-cn.com/1643414942-ajXGBO-image.png)


å®¹æ˜“è¯æ˜è¿™æ ·åšæ³•çš„æ­£ç¡®æ€§ï¼š**å¯¹äºä¸€ä¸ªã€Œé™†åœ°ã€åŒºåŸŸï¼ˆé«˜åº¦å¯å˜ï¼‰è€Œè¨€ï¼Œå…¶æ‰€èƒ½å¡«å…¥çš„é«˜åº¦ï¼Œå–å†³äºå…¶è·ç¦»å…¶ä»–ã€Œæ°´åŸŸã€åŒºåŸŸçš„è·ç¦»ï¼Œè€Œæˆ‘ä»¬æœ€ç»ˆè¦è®©æ•´ä¸ªç­”æ¡ˆçŸ©é˜µåˆæ³•ï¼Œå› æ­¤æ¯ä¸ªã€Œé™†åœ°ã€åŒºåŸŸåº”è¯¥å–å…¶æ‰€èƒ½å¡«å…¥çš„é«˜åº¦çš„ã€Œä¸‹ç•Œã€ï¼Œå³åªç”±ã€Œè·ç¦»å®ƒæœ€è¿‘çš„æ°´åŸŸã€åŒºåŸŸæ‰€æ›´æ–°ï¼Œè¿™ç¬¦åˆ `BFS`  çš„æ€§è´¨ã€‚**

**ä»£ç ï¼ˆæ„Ÿè°¢ [@Benhao](/u/himymben/) å’Œ [@5cm/s ğŸŒ¸](/u/megurine/) åŒå­¦æä¾›çš„å…¶ä»–è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š**
```Java []
class Solution {
    public int[][] highestPeak(int[][] g) {
        int m = g.length, n = g[0].length;
        int[][] ans = new int[m][n];
        Deque<int[]> d = new ArrayDeque<>();
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (g[i][j] == 1) d.addLast(new int[]{i, j});
                ans[i][j] = g[i][j] == 1 ? 0 : -1;
            }
        }
        int[][] dirs = new int[][]{{1,0},{-1,0},{0,1},{0,-1}};
        while (!d.isEmpty()) {
            int[] info = d.pollFirst();
            int x = info[0], y = info[1];
            for (int[] di : dirs) {
                int nx = x + di[0], ny = y + di[1];
                if (nx < 0 || nx >= m || ny < 0 || ny >= n) continue;
                if (ans[nx][ny] != -1) continue;
                ans[nx][ny] = ans[x][y] + 1;
                d.addLast(new int[]{nx, ny});
            }
        }
        return ans;
    }
}
```
```Python3 []
class Solution:
    def highestPeak(self, isWater: List[List[int]]) -> List[List[int]]:
        m, n = len(isWater), len(isWater[0])
        ans = [[0] * n for _ in range(m)]
        d = deque()
        for i in range(m):
            for j in range(n):
                if isWater[i][j]:
                    d.append((i, j))
                ans[i][j] = 0 if isWater[i][j] else -1

        dirs = [(1, 0), (-1, 0), (0, 1), (0, -1)]
        h = 1
        while d:
            size = len(d)
            for _ in range(size):
                x, y = d.popleft()
                for di in dirs:
                    nx, ny = x + di[0], y + di[1]
                    if 0 <= nx < m and 0 <= ny < n and ans[nx][ny] == -1:
                        ans[nx][ny] = h
                        d.append((nx, ny))
            h += 1
        return ans
```
```Go []
func highestPeak(isWater [][]int) [][]int {
    m, n := len(isWater), len(isWater[0])
    ans, d := make([][]int, m), [][]int{}
    for i := 0; i < m; i++ {
        ans[i] = make([]int, n)
        for j := 0; j < n; j++ {
            if isWater[i][j] == 1 {
                d = append(d, []int{i, j})
                ans[i][j] = 0
            } else {
                ans[i][j] = -1
            }
        }
    }
    dirs := [][]int{{1,0}, {-1,0}, {0,1}, {0,-1}}
    for h := 1; len(d) > 0; h++ {
        for size := len(d); size > 0; size--{
            info := d[0]
            d = d[1:]
            x, y := info[0], info[1]
            for _, di := range dirs {
                nx, ny := x + di[0], y + di[1]
                if nx >= 0 && nx < m && ny >= 0 && ny < n && ans[nx][ny] == -1 {
                    ans[nx][ny] = h
                    d = append(d, []int{nx, ny})
                }
            }
        }
    }
    return ans
}
```
```C++ []
const int dx[] = {-1, 1, 0, 0}, dy[] = {0, 0, -1, 1};
class Solution {
public:
    vector<vector<int>> highestPeak(vector<vector<int>>& g) {
        int n = g.size(), m = g[0].size();
        queue<pair<int, int>> q;
        vector<vector<int>> ans(n, vector<int>(m, 0));
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < m; ++j) {
                if (g[i][j] == 1) {
                    q.emplace(i, j);
                } else {
                    ans[i][j] = -1;
                }
            }
        }
        while (!q.empty()) {
            auto [x, y] = q.front(); q.pop();
            for (int i = 0; i < 4; ++i) {
                int a = x + dx[i], b = y + dy[i];
                if (a < 0 || a == n || b < 0 || b == m) continue;
                if (ans[a][b] >= 0) continue;
                ans[a][b] = ans[x][y] + 1;
                q.emplace(a, b);
            }
        }
        return ans;
    }
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(m * n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(m * n)$


---

## å…¶ä»–ã€Œå›¾è®ºæœç´¢ã€å†…å®¹

ç³»ç»Ÿå­¦ä¹ ã€Œå›¾è®ºæœç´¢ã€ç›¸å…³å†…å®¹ ğŸ­ğŸ­ğŸ­ï¼š

* [ç®€å•å›¾è®ºæœç´¢é¢˜](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247490011&idx=1&sn=4c8cbd5ad858f571291d47fcef75e75b&chksm=fd9cb2c4caeb3bd2ac442b2d4d1417e8eb6d65b1feca8399179951ebfa132e8a97a3935e7498&token=252055586&lang=zh_CN#rd)
* [å¸¸è§„ BFSï¼ˆäºŒç»´è½¬ä¸€ç»´ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489621&idx=1&sn=5d43fb97bc167a50a7aeb4ae2068571c&chksm=fd9cb34acaeb3a5c7e1e2e2a88d460ae2418a3cef615e1abf017b5d58aa1e7f490856d67f800&token=2136593799&lang=zh_CN#rd)
* [å¸¸è§„ BFS/è¿­ä»£åŠ æ·±ï¼ˆç»“åˆäºŒå‰æ ‘ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489746&idx=2&sn=9e80b33c12e96369c7a770382a97adbb&chksm=fd9cb3cdcaeb3adb35c708e548851e419b00e41801c98cae146ba29f5bdc49370a43cddf668d&token=252055586&lang=zh_CN#rd)
* [å¤šæº BFS](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247487179&idx=1&sn=e30a662c03fba3861254dbcf3fb9d6f2&chksm=fd9ca5d4caeb2cc205804fd17a2ce86b25d0408adc3417e73154f59d37e7cb17e02374f5122c&scene=178&cur_album_id=1917113998693449732#rd)
* [åŒå‘ BFS](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489502&idx=1&sn=dc863d4bc71c4739a4799b9a4558bd01&chksm=fd9cbcc1caeb35d749d0d72f485485527482c27b608c8f4062c29a997ede97a09ce598b58c7f&scene=178&cur_album_id=1917113998693449732#rd)
* [åŒå‘ BFS â…¡](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247486981&idx=1&sn=045ea6c880080fea1ce807794ccff69b&chksm=fd9ca51acaeb2c0c83d13e3b2a5196895d1a1b44f8981cc3efad9d6a2af158267010646cc262&scene=178&cur_album_id=1917113998693449732#rd)
* [åŒå‘ BFS â…¢ï¼ˆç»“åˆå¹¶æŸ¥é›†ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489671&idx=1&sn=c0f64de1a5e4613675f73d2ae43d0708&chksm=fd9cb398caeb3a8eae334c89dee17711fca43a00d93cf63a623792f3aac0c8bf586b4be9cc47&token=2074150457&lang=zh_CN#rd)
* [çµæ´»è¿ç”¨å¤šç§æœç´¢æ–¹å¼ï¼ˆå¯å‘å¼ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489560&idx=2&sn=bb966d868c18d656620a20d31a425b23&chksm=fd9cb307caeb3a11424428f0a88e7f0cb86bb53b3e5a2b9e28683a24bcb3ac151655d2b6419e&scene=178&cur_album_id=1917113998693449732#rd)
* [çµæ´»è¿ç”¨å¤šç§æœç´¢æ–¹å¼ â…¡ï¼ˆå¯å‘å¼ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489588&idx=1&sn=479e4c0627247ab7e20af7909f2a8b64&chksm=fd9cb32bcaeb3a3d4f0bd73f023a92a165edabf212af1db9672a55bed1af7d4e32e8af9964c3&scene=178&cur_album_id=1917113998693449732#rd)
* [çµæ´»è¿ç”¨å¤šç§æœç´¢æ–¹å¼ â…¢ï¼ˆå¯å‘å¼ ç»“åˆçŠ¶æ€å‹ç¼©ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489985&idx=1&sn=e503ce6ece048062f1d9ebee2572838a&chksm=fd9cb2decaeb3bc8c635c4a6cf0e78d5973723bb6c89a64875828435dc5b90ef07874ef7a6ae&token=252055586&lang=zh_CN#rd)

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~ 