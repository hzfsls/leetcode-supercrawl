## [543.二叉树的直径 中文热门题解2](https://leetcode.cn/problems/diameter-of-binary-tree/solutions/100000/shi-pin-jie-shi-di-gui-dai-ma-de-yun-xing-guo-chen)

作者：[z1m](https://leetcode.cn/u/z1m)
### 介绍

使用幻灯片对官方代码运行过程做出了解释。

### PPT

高能预警：ppt 比较多，需要一定耐心，建议您先自己思考，然后进行比较，如有问题欢迎讨论~

<![幻灯片1.JPG](https://pic.leetcode-cn.com/ea085785fdf66af2fc324c7e569deeff131520be15d01adce213dadf0d9cdd69-%E5%B9%BB%E7%81%AF%E7%89%871.JPG),![幻灯片2.JPG](https://pic.leetcode-cn.com/6b4ad3a450f429c06d4b7635b22710a8713c8e855cb799bed927f26f16bae0fc-%E5%B9%BB%E7%81%AF%E7%89%872.JPG),![幻灯片3.JPG](https://pic.leetcode-cn.com/14a924d419421b7ed6afba49d74cb0e4fe59a6ed4106c54fc5ddc0d3e048be2f-%E5%B9%BB%E7%81%AF%E7%89%873.JPG),![幻灯片4.JPG](https://pic.leetcode-cn.com/1866997d80a0ef0d6a8a59c1777d1d86056970c1f2a9effd0e70edfff236f764-%E5%B9%BB%E7%81%AF%E7%89%874.JPG),![幻灯片5.JPG](https://pic.leetcode-cn.com/fffc7160ad99a654d56d06fb426be2a0ef9d61c44e276bb01712bf7ed797ff21-%E5%B9%BB%E7%81%AF%E7%89%875.JPG),![幻灯片6.JPG](https://pic.leetcode-cn.com/ab168d4183d6cdf8c18877fb0749b14db184a35ac41082fab677335f121d7272-%E5%B9%BB%E7%81%AF%E7%89%876.JPG),![幻灯片7.JPG](https://pic.leetcode-cn.com/540d3dc942e4b9bfd04d589669e307055999ca442d90ec4ce37cfae851808e50-%E5%B9%BB%E7%81%AF%E7%89%877.JPG),![幻灯片8.JPG](https://pic.leetcode-cn.com/b277f28a894813160f22d958e84acdd50fbf46f8d34841bfe5013eaa30bbc1fc-%E5%B9%BB%E7%81%AF%E7%89%878.JPG),![幻灯片9.JPG](https://pic.leetcode-cn.com/680957d3fc0f97b8df1e9702294c5b9b3472493f99f4a0238b6855dc56f4ff4f-%E5%B9%BB%E7%81%AF%E7%89%879.JPG),![幻灯片10.JPG](https://pic.leetcode-cn.com/bdb2395f9d30edcc515fabed62ab24a89b3d6c7c75237cc7fea27bb96852f5d4-%E5%B9%BB%E7%81%AF%E7%89%8710.JPG),![幻灯片11.JPG](https://pic.leetcode-cn.com/5a89090d8246647d64c5e8248ab26f628db838cbed496f6f5550d27dbd124eb6-%E5%B9%BB%E7%81%AF%E7%89%8711.JPG),![幻灯片12.JPG](https://pic.leetcode-cn.com/9ed1c9db73ea2ddbfac99e6c59eec877521274de36ef18172c6a8486717cd5d6-%E5%B9%BB%E7%81%AF%E7%89%8712.JPG),![幻灯片13.JPG](https://pic.leetcode-cn.com/04b0a232c6b1076bf365a013dec4ff5c7868031565fd315fd4d5da4ea3e6c6e7-%E5%B9%BB%E7%81%AF%E7%89%8713.JPG),![幻灯片14.JPG](https://pic.leetcode-cn.com/a06f6b64e16d6702bc9a6dade557fafbe5c64588e7ac91e275b8313c270ae5f6-%E5%B9%BB%E7%81%AF%E7%89%8714.JPG),![幻灯片15.JPG](https://pic.leetcode-cn.com/ab2c01e8b33c251d2b21025fa31ca4f2168e9b4f95eb9050fa843296e09f1347-%E5%B9%BB%E7%81%AF%E7%89%8715.JPG),![幻灯片16.JPG](https://pic.leetcode-cn.com/6bff561d2afc6ea3ddbd74863065eb0e6217066601fb904d1fb1e26c60295b65-%E5%B9%BB%E7%81%AF%E7%89%8716.JPG),![幻灯片17.JPG](https://pic.leetcode-cn.com/746dffa4bfd97eded8cd9058bdc8450d58b89df2e34c383db7c562e3377f83b2-%E5%B9%BB%E7%81%AF%E7%89%8717.JPG),![幻灯片18.JPG](https://pic.leetcode-cn.com/8dc1781a7a61da1e0381a5aeb0478ef2f27ea0e06d959f367fec6b34a44ac215-%E5%B9%BB%E7%81%AF%E7%89%8718.JPG),![幻灯片19.JPG](https://pic.leetcode-cn.com/2dbc7e411b2a01d2ee4b421edd37aa897c15591af41508ad910536b58e1ed950-%E5%B9%BB%E7%81%AF%E7%89%8719.JPG),![幻灯片20.JPG](https://pic.leetcode-cn.com/bb9451fedecebe1f836fe03bcddba17e009262067f1962bf7fa022c6e2072972-%E5%B9%BB%E7%81%AF%E7%89%8720.JPG),![幻灯片21.JPG](https://pic.leetcode-cn.com/ae1b73cb9b4d137c7653eacadcffe88c635d8e07d1592b7a266c84d5e67f2ced-%E5%B9%BB%E7%81%AF%E7%89%8721.JPG),![幻灯片22.JPG](https://pic.leetcode-cn.com/e8111fd767c32c0e80bdc5a251eb0f231af4fe1efd4f9a5a9cff0f9ea4aa48d9-%E5%B9%BB%E7%81%AF%E7%89%8722.JPG),![幻灯片23.JPG](https://pic.leetcode-cn.com/444a1b5009353150a19862c40fca85bea1e56ebde7a2d9ebed060ef4f4b8b68f-%E5%B9%BB%E7%81%AF%E7%89%8723.JPG),![幻灯片24.JPG](https://pic.leetcode-cn.com/29e5971c20ccb66940b73671a2a0220d24cbd236ef85b4b4bb79129e1afafc8c-%E5%B9%BB%E7%81%AF%E7%89%8724.JPG),![幻灯片25.JPG](https://pic.leetcode-cn.com/2f0193d3ffe6750bda0448ecd3944e962b06d18b7cafc6facf50ba95edac0f0d-%E5%B9%BB%E7%81%AF%E7%89%8725.JPG),![幻灯片26.JPG](https://pic.leetcode-cn.com/773c1f540d9a10da28a67cf9ae5108f101df80511f31143d8a3f7d4d310e64da-%E5%B9%BB%E7%81%AF%E7%89%8726.JPG),![幻灯片27.JPG](https://pic.leetcode-cn.com/c05aa6f3fcb231656175fa5d3793a5b69a499b49a580532d5999e16ab58f349a-%E5%B9%BB%E7%81%AF%E7%89%8727.JPG),![幻灯片28.JPG](https://pic.leetcode-cn.com/a229454fe3147d0cdaef4f24fa5b1fcd42f55fec7c078d0c99c68f0c4c5e02cc-%E5%B9%BB%E7%81%AF%E7%89%8728.JPG),![幻灯片29.JPG](https://pic.leetcode-cn.com/e5cf9e5b45e6c7de87ff2bd4cff29fd4a33943897e5b5eefb8e0ea2fc2c63106-%E5%B9%BB%E7%81%AF%E7%89%8729.JPG),![幻灯片30.JPG](https://pic.leetcode-cn.com/51a24e721bdcee7d3bfc6df1c9e9932dee64bfd2c03ed9f5f3c9b09a442dbe22-%E5%B9%BB%E7%81%AF%E7%89%8730.JPG),![幻灯片31.JPG](https://pic.leetcode-cn.com/5a6530d4233691e688bb6e6c370fd85f129ab0b7ca588ab36bf1d863b1917993-%E5%B9%BB%E7%81%AF%E7%89%8731.JPG),![幻灯片32.JPG](https://pic.leetcode-cn.com/169756f44f5dc84b711aec5675ddab019773967145b1d8e1f23dac1bffc8d255-%E5%B9%BB%E7%81%AF%E7%89%8732.JPG),![幻灯片33.JPG](https://pic.leetcode-cn.com/ff1e02ecccb9a05e641ac07ab6183b0e5b8fa7c087e6892c3e8e0dc0fe38cbbf-%E5%B9%BB%E7%81%AF%E7%89%8733.JPG),![幻灯片34.JPG](https://pic.leetcode-cn.com/7f474087618774a647a0c728db0328dc68c79e43d18547ff47a79983f974bb9d-%E5%B9%BB%E7%81%AF%E7%89%8734.JPG),![幻灯片35.JPG](https://pic.leetcode-cn.com/ffcbffe46d328041c43e4329b98c309128bd13db79329768984addbdcaca5baf-%E5%B9%BB%E7%81%AF%E7%89%8735.JPG),![幻灯片36.JPG](https://pic.leetcode-cn.com/2ba64d409ef8505abb42d06aad14c53b8e2f560a195da04ae1b77f77efc2c487-%E5%B9%BB%E7%81%AF%E7%89%8736.JPG),![幻灯片37.JPG](https://pic.leetcode-cn.com/1f6dc773d911c493596d7b071e16be161b1c549188ad3ab8172552e212f9eabe-%E5%B9%BB%E7%81%AF%E7%89%8737.JPG),![幻灯片38.JPG](https://pic.leetcode-cn.com/fc85dfa69b01c1f26c119de816cc015c13fd87fa0aeed872b5afdf58a3144bf8-%E5%B9%BB%E7%81%AF%E7%89%8738.JPG),![幻灯片39.JPG](https://pic.leetcode-cn.com/337f7da3f4776539dc1e0bb7fab86907590e487319271e240a94389497cb1c58-%E5%B9%BB%E7%81%AF%E7%89%8739.JPG),![幻灯片40.JPG](https://pic.leetcode-cn.com/8489deef4e6225fa3142f1eabfaf0f18fd87c8b82efddbea676be3bfc270597e-%E5%B9%BB%E7%81%AF%E7%89%8740.JPG),![幻灯片41.JPG](https://pic.leetcode-cn.com/433a6eda8fc9d4a7cd61f95cc78af4826f8634db2f6dceba1a9b2292998950ba-%E5%B9%BB%E7%81%AF%E7%89%8741.JPG),![幻灯片42.JPG](https://pic.leetcode-cn.com/bfcf5189ab4df146d9518f0eb81e287d3ffbd26f6e7271d12d7bbff023621766-%E5%B9%BB%E7%81%AF%E7%89%8742.JPG),![幻灯片43.JPG](https://pic.leetcode-cn.com/4cb981056fe6f188441534a4026690e676effae7742ecea499a2c2d1ec148053-%E5%B9%BB%E7%81%AF%E7%89%8743.JPG),![幻灯片44.JPG](https://pic.leetcode-cn.com/06549566514b85567cc146f2708d31a3a773aa330f9d8f599533244985dc31f2-%E5%B9%BB%E7%81%AF%E7%89%8744.JPG),![幻灯片45.JPG](https://pic.leetcode-cn.com/73aa0ccf3ae9c3b9f857bacecafb61fb9185ace6253036887db352a874c3a78f-%E5%B9%BB%E7%81%AF%E7%89%8745.JPG),![幻灯片46.JPG](https://pic.leetcode-cn.com/bf5ebb6d0098b1f5706bd490a859be170453cbc697763b986d44228d90f45f72-%E5%B9%BB%E7%81%AF%E7%89%8746.JPG),![幻灯片47.JPG](https://pic.leetcode-cn.com/a5ef7874b0d593a97eb8eeedd363f7a976bcc91ec589a2667f5a375f7f5c93fe-%E5%B9%BB%E7%81%AF%E7%89%8747.JPG),![幻灯片48.JPG](https://pic.leetcode-cn.com/9d7d2996a83ffd258a50f5c910d44fe3a1995fcaa5ba5bccd038cf568c6f84e5-%E5%B9%BB%E7%81%AF%E7%89%8748.JPG),![幻灯片49.JPG](https://pic.leetcode-cn.com/b850fa251d0fe94651331337c5f62675336dd91e56315aa7e04db3fa33a3f023-%E5%B9%BB%E7%81%AF%E7%89%8749.JPG),![幻灯片50.JPG](https://pic.leetcode-cn.com/1e125874e5dae5ebc249cdb89a987aa2e0707ca84215c2fff0c7b0d9926b5d7f-%E5%B9%BB%E7%81%AF%E7%89%8750.JPG),![幻灯片51.JPG](https://pic.leetcode-cn.com/1fd153c4e35e145cab84ff3f4a75e5a3a45c3c6d1686e0111368660dca56b440-%E5%B9%BB%E7%81%AF%E7%89%8751.JPG),![幻灯片52.JPG](https://pic.leetcode-cn.com/a5bf5b723cc957b01067733ee0c38bc86d693d619c3d8a809b1cf72bc45ca620-%E5%B9%BB%E7%81%AF%E7%89%8752.JPG),![幻灯片53.JPG](https://pic.leetcode-cn.com/ae3ffceda05faa3f3bf5e01aa0d7b9f96787ff1e0c3b81086b97fdc75f1e42ba-%E5%B9%BB%E7%81%AF%E7%89%8753.JPG),![幻灯片54.JPG](https://pic.leetcode-cn.com/a35ee4c69c2123a205d6460dbc23fca5abcb95ad7aa47c990baca351a3a3ebdc-%E5%B9%BB%E7%81%AF%E7%89%8754.JPG),![幻灯片55.JPG](https://pic.leetcode-cn.com/86beb024dd7e50d1523ee07ffe358ff17374171e2037d97c9349e32076450f73-%E5%B9%BB%E7%81%AF%E7%89%8755.JPG)>






### 代码

```C++ []
class Solution {
    int ans;
    int depth(TreeNode* root){
        if (root == NULL) return 0;
        int L = depth(root->left);
        int R = depth(root->right);
        ans = max(ans, L + R + 1);
        return max(L, R) + 1;
    }
public:
    int diameterOfBinaryTree(TreeNode* root) {
        ans = 1;
        depth(root);
        return ans - 1;
    }
};
```

```python []
class Solution:
    def diameterOfBinaryTree(self, root: TreeNode) -> int:
        self.ans = 1
        def depth(root):
            if not root: return 0
            L = depth(root.left)
            R = depth(root.right)
            self.ans = max(self.ans, L + R + 1)
            return max(L, R) + 1
        depth(root)
        return self.ans - 1
```

### 视频

（与 ppt 内容一样，视频右下角有页码，可以暂停一张一张看）

![0543.mp4](8739066d-0b0b-4d2f-aa8b-f735495db7fb)


### 结尾
本题的特点是使用了递归，并且我们还需找到合适的根节点。这个思路最近的两场周赛中也出了相关题目，因此我们应该借此机会好好把握一下：

- [104. 二叉树的最大深度](https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/) （基本题型）

- [1372. 二叉树中的最长交错路径](https://leetcode-cn.com/problems/longest-zigzag-path-in-a-binary-tree/)（周赛）
- [1367. 二叉树中的列表](https://leetcode-cn.com/problems/linked-list-in-binary-tree/)（周赛）