## [970.å¼ºæ•´æ•° ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/powerful-integers/solutions/100000/python3javacgotypescript-yi-ti-yi-jie-ha-javr)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)


**æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨ + æžšä¸¾**

æ ¹æ®é¢˜ç›®æè¿°ï¼Œä¸€ä¸ªå¼ºæ•´æ•°å¯ä»¥è¡¨ç¤ºæˆ $x^i + y^j$ï¼Œå…¶ä¸­ $i \geq 0$, $j \geq 0$ã€‚

é¢˜ç›®éœ€è¦æˆ‘ä»¬æ‰¾å‡ºæ‰€æœ‰ä¸è¶…è¿‡ $bound$ çš„å¼ºæ•´æ•°ï¼Œæˆ‘ä»¬æ³¨æ„åˆ° $bound$ çš„å–å€¼èŒƒå›´ä¸è¶…è¿‡ $10^6$ï¼Œè€Œ $2^{20} = 1048576 \gt 10^6$ã€‚å› æ­¤ï¼Œå¦‚æžœ $x \geq 2$ï¼Œé‚£ä¹ˆ $i$ æœ€å¤§ä¸è¶…è¿‡ $20$ï¼Œæ‰æœ‰å¯èƒ½ä½¿å¾— $x^i + y^j \leq bound$ æˆç«‹ã€‚åŒç†ï¼Œå¦‚æžœ $y \geq 2$ï¼Œé‚£ä¹ˆ $j$ æœ€å¤§ä¸è¶…è¿‡ $20$ã€‚

å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒé‡å¾ªçŽ¯ï¼Œæžšä¸¾æ‰€æœ‰å¯èƒ½çš„ $x^i$ å’Œ $y^j$ï¼Œåˆ†åˆ«è®°ä¸º $a$ å’Œ $b$ï¼Œå¹¶ä¿è¯ $a + b \leq bound$ï¼Œæ­¤æ—¶ $a + b$ å³ä¸ºä¸€ä¸ªå¼ºæ•´æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å¼ºæ•´æ•°ï¼Œæœ€åŽå°†å“ˆå¸Œè¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ è½¬æ¢æˆç­”æ¡ˆåˆ—è¡¨è¿”å›žå³å¯ã€‚

> æ³¨æ„ï¼Œå¦‚æžœ $x=1$ æˆ–è€… $y=1$ï¼Œé‚£ä¹ˆ $a$ æˆ–è€… $b$ çš„å€¼æ’ç­‰äºŽ $1$ï¼Œå¯¹åº”çš„å¾ªçŽ¯åªéœ€è¦æ‰§è¡Œä¸€æ¬¡å³å¯é€€å‡ºã€‚



```python [sol1-Python3]
class Solution:
    def powerfulIntegers(self, x: int, y: int, bound: int) -> List[int]:
        ans = set()
        a = 1
        while a <= bound:
            b = 1
            while a + b <= bound:
                ans.add(a + b)
                b *= y
                if y == 1:
                    break
            if x == 1:
                break
            a *= x
        return list(ans)
```


```java [sol1-Java]
class Solution {
    public List<Integer> powerfulIntegers(int x, int y, int bound) {
        Set<Integer> ans = new HashSet<>();
        for (int a = 1; a <= bound; a *= x) {
            for (int b = 1; a + b <= bound; b *= y) {
                ans.add(a + b);
                if (y == 1) {
                    break;
                }
            }
            if (x == 1) {
                break;
            }
        }
        return new ArrayList<>(ans);
    }
}
```

```cpp [sol1-C++]
class Solution {
public:
    vector<int> powerfulIntegers(int x, int y, int bound) {
        unordered_set<int> ans;
        for (int a = 1; a <= bound; a *= x) {
            for (int b = 1; a + b <= bound; b *= y) {
                ans.insert(a + b);
                if (y == 1) {
                    break;
                }
            }
            if (x == 1) {
                break;
            }
        }
        return vector<int>(ans.begin(), ans.end());
    }
};
```



```go [sol1-Go]
func powerfulIntegers(x int, y int, bound int) (ans []int) {
	s := map[int]struct{}{}
	for a := 1; a <= bound; a *= x {
		for b := 1; a+b <= bound; b *= y {
			s[a+b] = struct{}{}
			if y == 1 {
				break
			}
		}
		if x == 1 {
			break
		}
	}
	for x := range s {
		ans = append(ans, x)
	}
	return ans
}
```


```ts [sol1-TypeScript]
function powerfulIntegers(x: number, y: number, bound: number): number[] {
    const ans = new Set<number>();
    for (let a = 1; a <= bound; a *= x) {
        for (let b = 1; a + b <= bound; b *= y) {
            ans.add(a + b);
            if (y === 1) {
                break;
            }
        }
        if (x === 1) {
            break;
        }
    }
    return Array.from(ans);
}
```


æ—¶é—´å¤æ‚åº¦ $O(\log^2 bound)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(\log^2 bound)$ã€‚


---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿Žè¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿Žè¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµžæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆðŸ˜„~