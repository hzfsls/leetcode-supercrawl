## [1604.è­¦å‘Šä¸€å°æ—¶å†…ä½¿ç”¨ç›¸åŒå‘˜å·¥å¡å¤§äºŽç­‰äºŽä¸‰æ¬¡çš„äºº ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/alert-using-same-key-card-three-or-more-times-in-a-one-hour-period/solutions/100000/python3javacgo-yi-ti-yi-jie-ha-xi-biao-p-dtgo)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)


**æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨ + æŽ’åº**

æˆ‘ä»¬å…ˆç”¨å“ˆå¸Œè¡¨ $d$ è®°å½•æ¯ä¸ªå‘˜å·¥çš„æ‰€æœ‰æ‰“å¡æ—¶é—´ã€‚

ç„¶åŽéåŽ†å“ˆå¸Œè¡¨ï¼Œå¯¹äºŽæ¯ä¸ªå‘˜å·¥ï¼Œæˆ‘ä»¬å…ˆåˆ¤æ–­å‘˜å·¥çš„æ‰“å¡æ¬¡æ•°æ˜¯å¦å¤§äºŽç­‰äºŽ 3ï¼Œå¦‚æžœä¸æ˜¯ï¼Œåˆ™è·³è¿‡è¯¥å‘˜å·¥ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†è¯¥å‘˜å·¥çš„æ‰€æœ‰æ‰“å¡æ—¶é—´æŒ‰ç…§æ—¶é—´å…ˆåŽæŽ’åºï¼Œç„¶åŽéåŽ†æŽ’åºåŽçš„æ‰“å¡æ—¶é—´ï¼Œåˆ¤æ–­ä¸‹æ ‡è·ç¦»ä¸º $2$ çš„ä¸¤ä¸ªæ—¶é—´æ˜¯å¦åœ¨åŒä¸€å°æ—¶å†…ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™å°†è¯¥å‘˜å·¥åŠ å…¥ç­”æ¡ˆæ•°ç»„ã€‚

æœ€åŽï¼Œå°†ç­”æ¡ˆæ•°ç»„æŒ‰ç…§å­—å…¸åºæŽ’åºï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚




```python [sol1-Python3]
class Solution:
    def alertNames(self, keyName: List[str], keyTime: List[str]) -> List[str]:
        d = defaultdict(list)
        for name, t in zip(keyName, keyTime):
            t = int(t[:2]) * 60 + int(t[3:])
            d[name].append(t)
        ans = []
        for name, ts in d.items():
            if (n := len(ts)) > 2:
                ts.sort()
                for i in range(n - 2):
                    if ts[i + 2] - ts[i] <= 60:
                        ans.append(name)
                        break
        ans.sort()
        return ans
```



```java [sol1-Java]
class Solution {
    public List<String> alertNames(String[] keyName, String[] keyTime) {
        Map<String, List<Integer>> d = new HashMap<>();
        for (int i = 0; i < keyName.length; ++i) {
            String name = keyName[i];
            String time = keyTime[i];
            int t = Integer.parseInt(time.substring(0, 2)) * 60 + Integer.parseInt(time.substring(3));
            d.computeIfAbsent(name, k -> new ArrayList<>()).add(t);
        }
        List<String> ans = new ArrayList<>();
        for (var e : d.entrySet()) {
            var ts = e.getValue();
            int n = ts.size();
            if (n > 2) {
                Collections.sort(ts);
                for (int i = 0; i < n - 2; ++i) {
                    if (ts.get(i + 2) - ts.get(i) <= 60) {
                        ans.add(e.getKey());
                        break;
                    }
                }
            }
        }
        Collections.sort(ans);
        return ans;
    }
}
```



```cpp [sol1-C++]
class Solution {
public:
    vector<string> alertNames(vector<string>& keyName, vector<string>& keyTime) {
        unordered_map<string, vector<int>> d;
        for (int i = 0; i < keyName.size(); ++i) {
            auto name = keyName[i];
            auto time = keyTime[i];
            int a, b;
            sscanf(time.c_str(), "%d:%d", &a, &b);
            int t = a * 60 + b;
            d[name].emplace_back(t);
        }
        vector<string> ans;
        for (auto& [name, ts] : d) {
            int n = ts.size();
            if (n > 2) {
                sort(ts.begin(), ts.end());
                for (int i = 0; i < n - 2; ++i) {
                    if (ts[i + 2] - ts[i] <= 60) {
                        ans.emplace_back(name);
                        break;
                    }
                }
            }
        }
        sort(ans.begin(), ans.end());
        return ans;
    }
};
```


```go [sol1-Go]
func alertNames(keyName []string, keyTime []string) (ans []string) {
	d := map[string][]int{}
	for i, name := range keyName {
		var a, b int
		fmt.Sscanf(keyTime[i], "%d:%d", &a, &b)
		t := a*60 + b
		d[name] = append(d[name], t)
	}
	for name, ts := range d {
		n := len(ts)
		if n > 2 {
			sort.Ints(ts)
			for i := 0; i < n-2; i++ {
				if ts[i+2]-ts[i] <= 60 {
					ans = append(ans, name)
					break
				}
			}
		}
	}
	sort.Strings(ans)
	return
}
```

æ—¶é—´å¤æ‚åº¦ $O(n \times \log n)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(n)$ã€‚å…¶ä¸­ $n$ æ˜¯æ•°ç»„ $keyName$ çš„é•¿åº¦ã€‚


---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿Žè¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿Žè¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµžæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆðŸ˜„~