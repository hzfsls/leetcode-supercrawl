## [2439.æœ€å°åŒ–æ•°ç»„ä¸­çš„æœ€å¤§å€¼ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/minimize-maximum-of-array/solutions/100000/cppjava-you-shi-yi-dao-jing-dian-de-er-f-w3i6)

ä½œè€…ï¼š[endless_developy](https://leetcode.cn/u/endless_developy)
#### å‰è¨€

-----

æœ‰å…³äºäºŒåˆ†ç­”æ¡ˆçš„ç±»å‹é¢˜ï¼Œå¯ä»¥çœ‹æˆ‘è¿™é“é¢˜çš„é¢˜è§£[é“¾æ¥ğŸ”—](https://leetcode.cn/problems/maximum-candies-allocated-to-k-children/solution/by-relll-1037-dhhf/)

#### é¢˜æ„åˆ†æ

-----

ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹äº`1 <= i < len(nums)`çš„`i`å¯ä»¥æœ‰ä»¥ä¸‹æ“ä½œ

+ å°†`nums[i]--`ï¼Œ`nums[i-1]++`
+ `nums[i] > 0`

å¯¹äºè¿™ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬åº”è¯¥å¾—åˆ°è¿™æ ·çš„ç†è§£ï¼š

+ å‰æ–¹çš„è¾ƒå°æ•°å¯ä»¥æ¥å—åæ–¹è¾ƒå¤§æ•°å¤šä½™çš„æ•°å­—

å¯èƒ½è¿™å¥è¯æœ‰äº›æ™¦æ¶©éš¾æ‡‚ï¼Œä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­å…·ä½“åˆ†æ

> è®¾`nums = [2,3,7,1,6]`
>
> ç”±å¯¹å‰ä¸‰ä¸ªæ•°è¿›è¡Œ**æ“ä½œ**ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„**æœ€å°æœ€å¤§å€¼**ä¸º`4`
>
> æ€ä¹ˆåšåˆ°çš„æï¼Ÿæˆ‘ä»¬æ¥ä¸€æ­¥æ­¥èµ°
>
> [2,3,7]
>
> [3,2,7]
>
> [4,1,7]
>
> [4,2,6]
>
> [4,3,5]
>
> [4,4,4]
>
> ä¸€æ­¥æ­¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå‰æ–¹çš„è¾ƒå°çš„2å’Œ3æ‰¿æ¥äº†æ¥è‡ªåæ–¹çš„7ä¸­çš„æ•°ï¼Œæœ€ç»ˆä½¿å¾—æ•´ä¸ªæ•°ç»„éƒ½æ•´ä½“å˜å°äº†
>
> 2æ‰¿è½½äº†æœ€ç»ˆç­”æ¡ˆ4ä¸­çš„ï¼Œ**æ¥è‡ªäº7ä¸­çš„ä¸¤ä¸ª1**
>
> 3æ‰¿è½½äº†æœ€ç»ˆç­”æ¡ˆ4ä¸­çš„ï¼Œ**æ¥è‡ªäº7ä¸­çš„ä¸€ä¸ª1**

ç”±æ­¤æˆ‘ä»¬å¯ä»¥ç”±å±€éƒ¨æ¨å¹¿åˆ°æ•´ä½“ï¼Œæˆ‘ä»¬åªéœ€è¦æ£€æŸ¥æ•°ç»„åœ¨å°æ•°æ‰¿è½½å¤§æ•°çš„åŸºç¡€ä¸Šï¼Œæ˜¯å¦å¯ä»¥å…¨éƒ¨éƒ½ä¸å¤§äº`k`



é‚£ä¹ˆè¦æ£€æŸ¥çš„æ•°ä»å“ªé‡Œæ¥æï¼Ÿå³ç­”ï¼šâ€œäºŒåˆ†æŸ¥æ‰¾â€

ç”±äºæ•°ç»„ä¸­`0 <= a[i] <= 1e9`æ•…ä¸èƒ½ä¸€ä¸ªä¸ªæ£€æŸ¥æ‰€æœ‰æ•°ï¼ŒäºŒåˆ†æŸ¥æ‰¾ä¾¿å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½ç­”æ¡ˆ

#### å‚è€ƒä»£ç 

---------

```cpp []
class Solution {
public:
    static bool check(vector<int> &nums, int k) {
        long long have = 0;//å‰æ–¹çš„æ•°å­—è¿˜å¯ä»¥å¸®æˆ‘ä»¬åæ–¹çš„å¤§æ•°æ‰¿è½½å¤šå°‘æ•°å­—
        for (int n : nums) {
            if (n <= k) {
                have += k - n;//è¾ƒå°æ•°ï¼Œå¯ä»¥ç®—å…¥æ‰¿è½½é‡
            } else {
                if (have < n - k) return 0;//æ‰¿è½½ä¸äº†äº†ï¼Œè¯¥ç­”æ¡ˆä¸å¯è¡Œ
                else have -= (n - k);//å‡å»æ‰¿è½½é‡
            }
        }
        return 1;
    }

    int minimizeArrayValue(vector<int> &nums) {
        int left = 0, right = *max_element(nums.begin(), nums.end());
        while (left < right) {//äºŒåˆ†ç­”æ¡ˆï¼Œå¯»æ‰¾æœ€å¤§å€¼
            int mid = left + (right - left) / 2;
            if (check(nums, mid)) right = mid;
            else left = mid + 1;
        }
        return left;
    }
};
```
```java []
class Solution {
    static boolean check(int[] nums, int k) {
        long have = 0;//å‰æ–¹çš„æ•°å­—è¿˜å¯ä»¥å¸®æˆ‘ä»¬åæ–¹çš„å¤§æ•°æ‰¿è½½å¤šå°‘æ•°å­—
        for (int n : nums) {
            if (n <= k) {
                have += k - n;//è¾ƒå°æ•°ï¼Œå¯ä»¥ç®—å…¥æ‰¿è½½é‡
            } else {
                if (have < n - k) return false;//æ‰¿è½½ä¸äº†äº†ï¼Œè¯¥ç­”æ¡ˆä¸å¯è¡Œ
                else have -= (n - k);//å‡å»æ‰¿è½½é‡
            }
        }
        return true;
    }
    
    public int minimizeArrayValue(int[] nums) {
        int left = 0, right = 1000000000;
        while (left < right) {//äºŒåˆ†ç­”æ¡ˆï¼Œå¯»æ‰¾æœ€å¤§å€¼
            int mid = left + (right - left) / 2;
            if (check(nums, mid)) right = mid;
            else left = mid + 1;
        }
        return left;
    }
}
```
```python3 []
class Solution:
    def check(self, nums: List[int], k: int) -> bool:
        have = 0
        for n in nums:
            if n <= k:
                have += k - n
            else:
                if have < n - k:
                    return False
                else:
                    have -= (n - k)
        return True
    
    def minimizeArrayValue(self, nums: List[int]) -> int:
        left, right = 0, max(nums)
        while left < right:
            mid = left + (right - left) // 2
            if self.check(nums, mid):
                right = mid
            else:
                left = mid + 1
        return left
```