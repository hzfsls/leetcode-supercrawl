## [1905.ç»Ÿè®¡å­å²›å±¿ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/count-sub-islands/solutions/100000/1905tong-ji-zi-dao-yu-ji-he-zhong-die-fa-dahq)

ä½œè€…ï¼š[fetus](https://leetcode.cn/u/fetus)

-   æ€è·¯æ¥æºï¼šå°†ä¸¤ä¸ªå›¾å æ”¾åœ¨ä¸€èµ·ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚æ‰¾*grid2*åœ¨*grid1*ä¸­çš„å­å²›å±¿ï¼Œæ‰€ä»¥é‡å åä¸è€ƒè™‘é‚£äº›åªæœ‰grid1çš„é™†åœ°ï¼Œä»¥é¢˜ç›®å®˜ä¾‹ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾ï¼ˆçº¢è‰²éƒ¨åˆ†æ˜¯å…¬å…±é™†åœ°ï¼‰ï¼›

    &#x20;![test1.png](https://pic.leetcode-cn.com/1644554043-bbCfYo-test1.png)

-   éå†ç›®æ ‡å›¾*grid2*ï¼Œè‹¥*grid2*çš„å½“å‰ä½ç½®æ˜¯é™†åœ°ï¼Œç´¯åŠ *grid1*ä¸­ç›¸åŒä½ç½®çš„æ•°å€¼ï¼Œä¸‹å›¾ä¸­*grid2*ä¸­æ²¡æœ‰æ‰“âœ…çš„é™†åœ°åœ¨*grid1*ä¸­å¯¹åº”æµ·æ´‹çš„ä½ç½®ï¼›
    ![test1.png](https://pic.leetcode-cn.com/1644554897-WFSSqA-test1.png)

-   å¾—åˆ°çš„grid2ç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬æœ€ååªè¦ç»Ÿè®¡grid2ä¸­â€œåªåŒ…å«äº†æ•°å­—2çš„å²›å±¿â€æ€»ä¸ªæ•°å³å¯ï¼Œæ­¤ä¾‹ä¸­æœ€åç»“æœä¸º3ï¼›

    &#x20;![test1 (1).png](https://pic.leetcode-cn.com/1644555148-QCaYbT-test1%20\(1\).png)

-   æ•´ä½“ä»£ç å¦‚ä¸‹ï¼Œå¦‚æœä¸æƒ³æ”¹å˜ä¼ å…¥çš„æ•°ç»„æ•°æ®ï¼Œå°±æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„å¹¶å¯¹å…¶è¿›è¡Œä¿®æ”¹å§ï¼Œè¿™é‡Œå°±ç›´æ¥åŸåœ°æ”¹äº†ï¼ˆåœ°æ–¹å¤ªå°å†™ä¸ä¸‹ğŸ™Šï¼‰ï¼›

    ```java
    class Solution {

        int rc;
        int cc;

        public int countSubIslands(int[][] grid1, int[][] grid2) {
            rc = grid1.length;
            cc = grid1[0].length;
            for (int i = 0; i < rc; i++) {
                for (int j = 0; j < cc; j++) {
                    if (grid2[i][j] == 1) {
                        grid2[i][j] += grid1[i][j];
                    }
                }
            }
            int res = 0;
            for (int i = 0; i < rc; i++) {
                for (int j = 0; j < cc; j++) {
                    // DFS BFSä»»é€‰ä¸€ä¸ª
                    if (grid2[i][j] == 2 && fill(grid2, i, j)) {
                        res++;
                    }
                }
            }
            return res;
        }

        private boolean fill(int[][] grid, int i, int j) {
            if (i < 0 || i >= rc || j < 0 || j >= cc) {
                return true;
            }
            if (grid[i][j] != 2) {
                return grid[i][j] == 0;
            }
            grid[i][j] = 0;
            boolean down = fill(grid, i - 1, j);
            boolean up = fill(grid, i + 1, j);
            boolean right = fill(grid, i, j - 1);
            boolean left = fill(grid, i, j + 1);
            return down & up & right & left;
        }
    }
    ```

-   å®é™…è¿è¡Œæ•ˆæœè¿˜å‡‘åˆ
    ![å¾®ä¿¡æˆªå›¾_20220211131514.png](https://pic.leetcode-cn.com/1644556568-riCQwZ-%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20220211131514.png)
