## [1759.ç»Ÿè®¡åŒè´¨å­å­—ç¬¦ä¸²çš„æ•°ç›® ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/count-number-of-homogenous-substrings/solutions/100000/by-lcbin-m6ah)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)


**æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ**

éåŽ†å­—ç¬¦ä¸² $s$ï¼Œç”¨æŒ‡é’ˆ $i$ æŒ‡å‘å½“å‰å­—ç¬¦ï¼ŒæŒ‡é’ˆ $j$ æŒ‡å‘ä¸‹ä¸€ä¸ªä¸åŒçš„å­—ç¬¦ï¼Œé‚£ä¹ˆ $[i,..j-1]$ åŒºé—´å†…çš„å­—ç¬¦éƒ½æ˜¯ç›¸åŒçš„ï¼Œå‡è®¾ $cnt=j-i$ï¼Œé‚£ä¹ˆè¯¥åŒºé—´å†…çš„åŒæž„å­å­—ç¬¦ä¸²ä¸ªæ•°ä¸º $\frac{(1 + cnt) \times cnt}{2}$ï¼Œå°†å…¶ç´¯åŠ åˆ°ç­”æ¡ˆä¸­å³å¯ã€‚ç»§ç»­éåŽ†ï¼Œç›´åˆ°æŒ‡é’ˆ $i$ åˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾ã€‚

éåŽ†å®Œå­—ç¬¦ä¸² $s$ åŽï¼Œè¿”å›žç­”æ¡ˆå³å¯ã€‚æ³¨æ„ç­”æ¡ˆçš„å–æ¨¡æ“ä½œã€‚

```python [sol1-Python3]
class Solution:
    def countHomogenous(self, s: str) -> int:
        mod = 10**9 + 7
        i, n = 0, len(s)
        ans = 0
        while i < n:
            j = i
            while j < n and s[j] == s[i]:
                j += 1
            cnt = j - i
            ans += (1 + cnt) * cnt // 2
            ans %= mod
            i = j
        return ans
```


```java [sol1-Java]
class Solution {
    private static final int MOD = (int) 1e9 + 7;

    public int countHomogenous(String s) {
        int n = s.length();
        long ans = 0;
        for (int i = 0, j = 0; i < n; i = j) {
            j = i;
            while (j < n && s.charAt(j) == s.charAt(i)) {
                ++j;
            }
            int cnt = j - i;
            ans += (long) (1 + cnt) * cnt / 2;
            ans %= MOD;
        }
        return (int) ans;
    }
}
```


```cpp [sol1-C++]
class Solution {
public:
    const int mod = 1e9 + 7;

    int countHomogenous(string s) {
        int n = s.size();
        long ans = 0;
        for (int i = 0, j = 0; i < n; i = j) {
            j = i;
            while (j < n && s[j] == s[i]) ++j;
            int cnt = j -  i;
            ans += 1ll * (1 + cnt) * cnt / 2;
            ans %= mod;
        }
        return ans;
    }
};
```




```go [sol1-Go]
func countHomogenous(s string) (ans int) {
	n := len(s)
	const mod int = 1e9 + 7
	for i, j := 0, 0; i < n; i = j {
		j = i
		for j < n && s[j] == s[i] {
			j++
		}
		cnt := j - i
		ans += (1 + cnt) * cnt / 2
		ans %= mod
	}
	return
}
```

æ—¶é—´å¤æ‚åº¦ $O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚å…¶ä¸­ $n$ ä¸ºå­—ç¬¦ä¸² $s$ çš„é•¿åº¦ã€‚


---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿Žè¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿Žè¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµžæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆðŸ˜„~