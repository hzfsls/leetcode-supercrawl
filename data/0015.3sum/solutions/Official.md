### ğŸ“º è§†é¢‘é¢˜è§£  
![15. ä¸‰æ•°ä¹‹å’Œ.mp4](84ef7c67-225f-451f-9296-c5dd0a04e6f0)

### ğŸ“– æ–‡å­—é¢˜è§£

#### å‰è¨€

æœ¬é¢˜ä¸ [1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/two-sum/) ç±»ä¼¼ï¼Œæ˜¯éå¸¸ç»å…¸çš„é¢è¯•é¢˜ï¼Œä½†æ˜¯åšæ³•ä¸å°½ç›¸åŒã€‚

#### æ–¹æ³•ä¸€ï¼šæ’åº + åŒæŒ‡é’ˆ

é¢˜ç›®ä¸­è¦æ±‚æ‰¾åˆ°æ‰€æœ‰ã€Œä¸é‡å¤ã€ä¸”å’Œä¸º $0$ çš„ä¸‰å…ƒç»„ï¼Œè¿™ä¸ªã€Œä¸é‡å¤ã€çš„è¦æ±‚ä½¿å¾—æˆ‘ä»¬æ— æ³•ç®€å•åœ°ä½¿ç”¨ä¸‰é‡å¾ªç¯æšä¸¾æ‰€æœ‰çš„ä¸‰å…ƒç»„ã€‚è¿™æ˜¯å› ä¸ºåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å…¨éƒ¨ä¸º $0$ï¼Œå³

```
[0, 0, 0, 0, 0, ..., 0, 0, 0]
```

ä»»æ„ä¸€ä¸ªä¸‰å…ƒç»„çš„å’Œéƒ½ä¸º $0$ã€‚å¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ä¸‰é‡å¾ªç¯æšä¸¾ä¸‰å…ƒç»„ï¼Œä¼šå¾—åˆ° $O(N^3)$ ä¸ªæ»¡è¶³é¢˜ç›®è¦æ±‚çš„ä¸‰å…ƒç»„ï¼ˆå…¶ä¸­ $N$ æ˜¯æ•°ç»„çš„é•¿åº¦ï¼‰æ—¶é—´å¤æ‚åº¦è‡³å°‘ä¸º $O(N^3)$ã€‚åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨å“ˆå¸Œè¡¨è¿›è¡Œå»é‡æ“ä½œï¼Œå¾—åˆ°ä¸åŒ…å«é‡å¤ä¸‰å…ƒç»„çš„æœ€ç»ˆç­”æ¡ˆï¼Œåˆæ¶ˆè€—äº†å¤§é‡çš„ç©ºé—´ã€‚è¿™ä¸ªåšæ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½å¾ˆé«˜ï¼Œå› æ­¤æˆ‘ä»¬è¦æ¢ä¸€ç§æ€è·¯æ¥è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚

ã€Œä¸é‡å¤ã€çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬ä¿æŒä¸‰é‡å¾ªç¯çš„å¤§æ¡†æ¶ä¸å˜ï¼Œåªéœ€è¦ä¿è¯ï¼š

- ç¬¬äºŒé‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ä¸å°äºå½“å‰ç¬¬ä¸€é‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ï¼›

- ç¬¬ä¸‰é‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ä¸å°äºå½“å‰ç¬¬äºŒé‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æšä¸¾çš„ä¸‰å…ƒç»„ $(a, b, c)$ æ»¡è¶³ $a \leq b \leq c$ï¼Œä¿è¯äº†åªæœ‰ $(a, b, c)$ è¿™ä¸ªé¡ºåºä¼šè¢«æšä¸¾åˆ°ï¼Œè€Œ $(b, a, c)$ã€$(c, b, a)$ ç­‰ç­‰è¿™äº›ä¸ä¼šï¼Œè¿™æ ·å°±å‡å°‘äº†é‡å¤ã€‚è¦å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°ç»„ä¸­çš„å…ƒç´ ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œéšåä½¿ç”¨æ™®é€šçš„ä¸‰é‡å¾ªç¯å°±å¯ä»¥æ»¡è¶³ä¸Šé¢çš„è¦æ±‚ã€‚

åŒæ—¶ï¼Œå¯¹äºæ¯ä¸€é‡å¾ªç¯è€Œè¨€ï¼Œç›¸é‚»ä¸¤æ¬¡æšä¸¾çš„å…ƒç´ ä¸èƒ½ç›¸åŒï¼Œå¦åˆ™ä¹Ÿä¼šé€ æˆé‡å¤ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæ’å®Œåºçš„æ•°ç»„ä¸º

```
[0, 1, 2, 2, 2, 3]
 ^  ^  ^
```

æˆ‘ä»¬ä½¿ç”¨ä¸‰é‡å¾ªç¯æšä¸¾åˆ°çš„ç¬¬ä¸€ä¸ªä¸‰å…ƒç»„ä¸º $(0, 1, 2)$ï¼Œå¦‚æœç¬¬ä¸‰é‡å¾ªç¯ç»§ç»­æšä¸¾ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆä»ç„¶æ˜¯ä¸‰å…ƒç»„ $(0, 1, 2)$ï¼Œäº§ç”Ÿäº†é‡å¤ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å°†ç¬¬ä¸‰é‡å¾ªç¯ã€Œè·³åˆ°ã€ä¸‹ä¸€ä¸ªä¸ç›¸åŒçš„å…ƒç´ ï¼Œå³æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´  $3$ï¼Œæšä¸¾ä¸‰å…ƒç»„ $(0, 1, 3)$ã€‚

ä¸‹é¢ç»™å‡ºäº†æ”¹è¿›çš„æ–¹æ³•çš„ä¼ªä»£ç å®ç°ï¼š

```
nums.sort()
for first = 0 .. n-1
    // åªæœ‰å’Œä¸Šä¸€æ¬¡æšä¸¾çš„å…ƒç´ ä¸ç›¸åŒï¼Œæˆ‘ä»¬æ‰ä¼šè¿›è¡Œæšä¸¾
    if first == 0 or nums[first] != nums[first-1] then
        for second = first+1 .. n-1
            if second == first+1 or nums[second] != nums[second-1] then
                for third = second+1 .. n-1
                    if third == second+1 or nums[third] != nums[third-1] then
                        // åˆ¤æ–­æ˜¯å¦æœ‰ a+b+c==0
                        check(first, second, third)
```

è¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä»ç„¶ä¸º $O(N^3)$ï¼Œæ¯•ç«Ÿæˆ‘ä»¬è¿˜æ˜¯æ²¡æœ‰è·³å‡ºä¸‰é‡å¾ªç¯çš„å¤§æ¡†æ¶ã€‚ç„¶è€Œå®ƒæ˜¯å¾ˆå®¹æ˜“ç»§ç»­ä¼˜åŒ–çš„ï¼Œå¯ä»¥å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬å›ºå®šäº†å‰ä¸¤é‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´  $a$ å’Œ $b$ï¼Œé‚£ä¹ˆåªæœ‰å”¯ä¸€çš„ $c$ æ»¡è¶³ $a+b+c=0$ã€‚å½“ç¬¬äºŒé‡å¾ªç¯å¾€åæšä¸¾ä¸€ä¸ªå…ƒç´  $b'$ æ—¶ï¼Œç”±äº $b' > b$ï¼Œé‚£ä¹ˆæ»¡è¶³ $a+b'+c'=0$ çš„ $c'$ ä¸€å®šæœ‰ $c' < c$ï¼Œå³ $c'$ åœ¨æ•°ç»„ä¸­ä¸€å®šå‡ºç°åœ¨ $c$ çš„å·¦ä¾§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä»å°åˆ°å¤§æšä¸¾ $b$ï¼Œ**åŒæ—¶**ä»å¤§åˆ°å°æšä¸¾ $c$ï¼Œå³**ç¬¬äºŒé‡å¾ªç¯å’Œç¬¬ä¸‰é‡å¾ªç¯å®é™…ä¸Šæ˜¯å¹¶åˆ—çš„å…³ç³»**ã€‚

æœ‰äº†è¿™æ ·çš„å‘ç°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¿æŒç¬¬äºŒé‡å¾ªç¯ä¸å˜ï¼Œè€Œå°†**ç¬¬ä¸‰é‡å¾ªç¯å˜æˆä¸€ä¸ªä»æ•°ç»„æœ€å³ç«¯å¼€å§‹å‘å·¦ç§»åŠ¨çš„æŒ‡é’ˆ**ï¼Œä»è€Œå¾—åˆ°ä¸‹é¢çš„ä¼ªä»£ç ï¼š

```
nums.sort()
for first = 0 .. n-1
    if first == 0 or nums[first] != nums[first-1] then
        // ç¬¬ä¸‰é‡å¾ªç¯å¯¹åº”çš„æŒ‡é’ˆ
        third = n-1
        for second = first+1 .. n-1
            if second == first+1 or nums[second] != nums[second-1] then
                // å‘å·¦ç§»åŠ¨æŒ‡é’ˆï¼Œç›´åˆ° a+b+c ä¸å¤§äº 0
                while nums[first]+nums[second]+nums[third] > 0
                    third = third-1
                // åˆ¤æ–­æ˜¯å¦æœ‰ a+b+c==0
                check(first, second, third)
```

è¿™ä¸ªæ–¹æ³•å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ã€ŒåŒæŒ‡é’ˆã€ï¼Œå½“æˆ‘ä»¬éœ€è¦æšä¸¾æ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å‘ç°éšç€ç¬¬ä¸€ä¸ªå…ƒç´ çš„é€’å¢ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯é€’å‡çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•ï¼Œå°†æšä¸¾çš„æ—¶é—´å¤æ‚åº¦ä» $O(N^2)$ å‡å°‘è‡³ $O(N)$ã€‚ä¸ºä»€ä¹ˆæ˜¯ $O(N)$ å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨æšä¸¾çš„è¿‡ç¨‹æ¯ä¸€æ­¥ä¸­ï¼Œã€Œå·¦æŒ‡é’ˆã€ä¼šå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼ˆä¹Ÿå°±æ˜¯é¢˜ç›®ä¸­çš„ $b$ï¼‰ï¼Œè€Œã€Œå³æŒ‡é’ˆã€ä¼šå‘å·¦ç§»åŠ¨è‹¥å¹²ä¸ªä½ç½®ï¼Œè¿™ä¸ªä¸æ•°ç»„çš„å…ƒç´ æœ‰å…³ï¼Œä½†æˆ‘ä»¬çŸ¥é“å®ƒä¸€å…±ä¼šç§»åŠ¨çš„ä½ç½®æ•°ä¸º $O(N)$ï¼Œ**å‡æ‘Šä¸‹æ¥**ï¼Œæ¯æ¬¡ä¹Ÿå‘å·¦ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º $O(N)$ã€‚

æ³¨æ„åˆ°æˆ‘ä»¬çš„ä¼ªä»£ç ä¸­è¿˜æœ‰ç¬¬ä¸€é‡å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(N)$ï¼Œå› æ­¤æšä¸¾çš„æ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(N^2)$ã€‚ç”±äºæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º $O(N \log N)$ï¼Œåœ¨æ¸è¿›æ„ä¹‰ä¸‹å°äºå‰è€…ï¼Œå› æ­¤ç®—æ³•çš„æ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(N^2)$ã€‚

ä¸Šè¿°çš„ä¼ªä»£ç ä¸­è¿˜æœ‰ä¸€äº›ç»†èŠ‚éœ€è¦è¡¥å……ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦ä¿æŒå·¦æŒ‡é’ˆä¸€ç›´åœ¨å³æŒ‡é’ˆçš„å·¦ä¾§ï¼ˆå³æ»¡è¶³ $b \leq c$ï¼‰ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç ï¼Œå‡ç»™å‡ºäº†è¯¦ç»†çš„æ³¨é‡Šã€‚

```C++ [sol1-C++]
class Solution {
public:
    vector<vector<int>> threeSum(vector<int>& nums) {
        int n = nums.size();
        sort(nums.begin(), nums.end());
        vector<vector<int>> ans;
        // æšä¸¾ a
        for (int first = 0; first < n; ++first) {
            // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
            if (first > 0 && nums[first] == nums[first - 1]) {
                continue;
            }
            // c å¯¹åº”çš„æŒ‡é’ˆåˆå§‹æŒ‡å‘æ•°ç»„çš„æœ€å³ç«¯
            int third = n - 1;
            int target = -nums[first];
            // æšä¸¾ b
            for (int second = first + 1; second < n; ++second) {
                // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
                if (second > first + 1 && nums[second] == nums[second - 1]) {
                    continue;
                }
                // éœ€è¦ä¿è¯ b çš„æŒ‡é’ˆåœ¨ c çš„æŒ‡é’ˆçš„å·¦ä¾§
                while (second < third && nums[second] + nums[third] > target) {
                    --third;
                }
                // å¦‚æœæŒ‡é’ˆé‡åˆï¼Œéšç€ b åç»­çš„å¢åŠ 
                // å°±ä¸ä¼šæœ‰æ»¡è¶³ a+b+c=0 å¹¶ä¸” b<c çš„ c äº†ï¼Œå¯ä»¥é€€å‡ºå¾ªç¯
                if (second == third) {
                    break;
                }
                if (nums[second] + nums[third] == target) {
                    ans.push_back({nums[first], nums[second], nums[third]});
                }
            }
        }
        return ans;
    }
};
```

```Python [sol1-Python3]
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        n = len(nums)
        nums.sort()
        ans = list()
        
        # æšä¸¾ a
        for first in range(n):
            # éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
            if first > 0 and nums[first] == nums[first - 1]:
                continue
            # c å¯¹åº”çš„æŒ‡é’ˆåˆå§‹æŒ‡å‘æ•°ç»„çš„æœ€å³ç«¯
            third = n - 1
            target = -nums[first]
            # æšä¸¾ b
            for second in range(first + 1, n):
                # éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
                if second > first + 1 and nums[second] == nums[second - 1]:
                    continue
                # éœ€è¦ä¿è¯ b çš„æŒ‡é’ˆåœ¨ c çš„æŒ‡é’ˆçš„å·¦ä¾§
                while second < third and nums[second] + nums[third] > target:
                    third -= 1
                # å¦‚æœæŒ‡é’ˆé‡åˆï¼Œéšç€ b åç»­çš„å¢åŠ 
                # å°±ä¸ä¼šæœ‰æ»¡è¶³ a+b+c=0 å¹¶ä¸” b<c çš„ c äº†ï¼Œå¯ä»¥é€€å‡ºå¾ªç¯
                if second == third:
                    break
                if nums[second] + nums[third] == target:
                    ans.append([nums[first], nums[second], nums[third]])
        
        return ans
```

```Java [sol1-Java]
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        int n = nums.length;
        Arrays.sort(nums);
        List<List<Integer>> ans = new ArrayList<List<Integer>>();
        // æšä¸¾ a
        for (int first = 0; first < n; ++first) {
            // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
            if (first > 0 && nums[first] == nums[first - 1]) {
                continue;
            }
            // c å¯¹åº”çš„æŒ‡é’ˆåˆå§‹æŒ‡å‘æ•°ç»„çš„æœ€å³ç«¯
            int third = n - 1;
            int target = -nums[first];
            // æšä¸¾ b
            for (int second = first + 1; second < n; ++second) {
                // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
                if (second > first + 1 && nums[second] == nums[second - 1]) {
                    continue;
                }
                // éœ€è¦ä¿è¯ b çš„æŒ‡é’ˆåœ¨ c çš„æŒ‡é’ˆçš„å·¦ä¾§
                while (second < third && nums[second] + nums[third] > target) {
                    --third;
                }
                // å¦‚æœæŒ‡é’ˆé‡åˆï¼Œéšç€ b åç»­çš„å¢åŠ 
                // å°±ä¸ä¼šæœ‰æ»¡è¶³ a+b+c=0 å¹¶ä¸” b<c çš„ c äº†ï¼Œå¯ä»¥é€€å‡ºå¾ªç¯
                if (second == third) {
                    break;
                }
                if (nums[second] + nums[third] == target) {
                    List<Integer> list = new ArrayList<Integer>();
                    list.add(nums[first]);
                    list.add(nums[second]);
                    list.add(nums[third]);
                    ans.add(list);
                }
            }
        }
        return ans;
    }
}
```

```golang [sol1-Golang]
func threeSum(nums []int) [][]int {
    n := len(nums)
    sort.Ints(nums)
    ans := make([][]int, 0)
 
    // æšä¸¾ a
    for first := 0; first < n; first++ {
        // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
        if first > 0 && nums[first] == nums[first - 1] {
            continue
        }
        // c å¯¹åº”çš„æŒ‡é’ˆåˆå§‹æŒ‡å‘æ•°ç»„çš„æœ€å³ç«¯
        third := n - 1
        target := -1 * nums[first]
        // æšä¸¾ b
        for second := first + 1; second < n; second++ {
            // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
            if second > first + 1 && nums[second] == nums[second - 1] {
                continue
            }
            // éœ€è¦ä¿è¯ b çš„æŒ‡é’ˆåœ¨ c çš„æŒ‡é’ˆçš„å·¦ä¾§
            for second < third && nums[second] + nums[third] > target {
                third--
            }
            // å¦‚æœæŒ‡é’ˆé‡åˆï¼Œéšç€ b åç»­çš„å¢åŠ 
            // å°±ä¸ä¼šæœ‰æ»¡è¶³ a+b+c=0 å¹¶ä¸” b<c çš„ c äº†ï¼Œå¯ä»¥é€€å‡ºå¾ªç¯
            if second == third {
                break
            }
            if nums[second] + nums[third] == target {
                ans = append(ans, []int{nums[first], nums[second], nums[third]})
            }
        }
    }
    return ans
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œå…¶ä¸­ $N$ æ˜¯æ•°ç»„ $\textit{nums}$ çš„é•¿åº¦ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(\log N)$ã€‚æˆ‘ä»¬å¿½ç•¥å­˜å‚¨ç­”æ¡ˆçš„ç©ºé—´ï¼Œé¢å¤–çš„æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º $O(\log N)$ã€‚ç„¶è€Œæˆ‘ä»¬ä¿®æ”¹äº†è¾“å…¥çš„æ•°ç»„ $\textit{nums}$ï¼Œåœ¨å®é™…æƒ…å†µä¸‹ä¸ä¸€å®šå…è®¸ï¼Œå› æ­¤ä¹Ÿå¯ä»¥çœ‹æˆä½¿ç”¨äº†ä¸€ä¸ªé¢å¤–çš„æ•°ç»„å­˜å‚¨äº† $\textit{nums}$ çš„å‰¯æœ¬å¹¶è¿›è¡Œæ’åºï¼Œç©ºé—´å¤æ‚åº¦ä¸º $O(N)$ã€‚