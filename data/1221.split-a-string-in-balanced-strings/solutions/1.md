## [1221.åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸² ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/split-a-string-in-balanced-strings/solutions/100000/gong-shui-san-xie-noxiang-xin-ke-xue-xi-wumnk)

ä½œè€…ï¼š[AC_OIer](https://leetcode.cn/u/AC_OIer)
## åŸºæœ¬åˆ†æ

é¢˜ç›®ç¡®ä¿äº† `s` ä¸ºä¸€ä¸ªå¹³è¡¡å­—ç¬¦ä¸²ï¼Œå³å¯ä»¥åˆ†å‰²æˆè‹¥å¹²ä¸ª `LR` å­ä¸²ã€‚

ä¸€ä¸ªåˆæ³•çš„ `LR` å­ä¸²æ»¡è¶³ `L` å­—ç¬¦å’Œ `R` å­—ç¬¦æ•°é‡ç›¸ç­‰ï¼Œå¸¸è§„æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºåˆæ ¼çš„ `LR` å­ä¸²å¯ä»¥ä½¿ç”¨ $O(n)$ çš„éå†æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨è®°å½•å‰ç¼€ä¿¡æ¯çš„æ•°æ®ç»“æ„ï¼Œè€Œå¯¹äºæˆå¯¹ç»“æ„çš„å…ƒç´ ç»Ÿè®¡ï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯è½¬æ¢ä¸ºæ•°å­¦åˆ¤å®šï¼Œä½¿ç”¨ `1` æ¥ä»£æŒ‡ `L` å¾—åˆ†ï¼Œä½¿ç”¨ `-1` æ¥ä»£æŒ‡ `R` å¾—åˆ†ã€‚

é‚£ä¹ˆä¸€ä¸ªå­ä¸²ä¸ºåˆæ ¼ `LR` å­ä¸²çš„å……è¦æ¡ä»¶ä¸º **æ•´ä¸ª `LR` å­ä¸²çš„æ€»å¾—åˆ†ä¸º $0$**ã€‚

è¿™ç§æ–¹å¼æœ€æ—©åº”è¯¥åœ¨ [(é¢˜è§£) 301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·](https://leetcode-cn.com/problems/remove-invalid-parentheses/solution/yi-fen-zhong-nei-kan-dong-jiang-gua-hao-aya6k/) è¯¦ç»†è®²è¿‡ï¼Œå¯å»¶ä¼¸åˆ°ä»»æ„çš„æˆå¯¹ç»“æ„å…ƒç´ ç»Ÿè®¡é¢˜ç›®é‡Œå»ã€‚

---

## è´ªå¿ƒ

å›åˆ°æœ¬é¢˜ï¼Œé¢˜ç›®è¦æ±‚åˆ†å‰²çš„ `LR` å­ä¸²å°½å¯èƒ½å¤šï¼Œç›´è§‚ä¸Šåº”è¯¥æ˜¯å°½å¯èƒ½è®©æ¯ä¸ªåˆ†å‰²ä¸²å°½å¯èƒ½çŸ­ã€‚

**æˆ‘ä»¬ä½¿ç”¨ã€Œå½’çº³æ³•ã€æ¥è¯æ˜è¯¥çŒœæƒ³çš„æ­£ç¡®æ€§ã€‚**

é¦–å…ˆé¢˜ç›®æ•°æ®ä¿è¯ç»™å®šçš„ `s` æœ¬èº«æ˜¯åˆæ³•çš„ `LR` å­ä¸²ï¼Œå‡è®¾ä» $[0...a]$ å¯ä»¥ä» `s` ä¸­åˆ†å‰²å‡º **é•¿åº¦æœ€å°** çš„ `LR` å­ä¸²ï¼Œè€Œä» $[0...b]$ èƒ½å¤Ÿåˆ†å‰²å‡º **é•¿åº¦æ›´å¤§** çš„ `LR` å­ä¸²ï¼ˆå³ `a <= b` )ã€‚

![image.png](https://pic.leetcode-cn.com/1630980197-vpDnIV-image.png)

**æˆ‘ä»¬æ¥è¯æ˜èµ·å§‹æ—¶ï¼ˆç¬¬ä¸€æ¬¡åˆ†å‰²ï¼‰å°†ã€Œä» `b` åˆ†å‰²ç‚¹å°† `s` æ–­å¼€ã€è°ƒæ•´ä¸ºã€Œä» `a` åˆ†å‰²ç‚¹å°† `s` æ–­å¼€ã€ç»“æœä¸ä¼šå˜å·®ï¼š**

1. ä» `b` ç‚¹é¦–æ¬¡åˆ†å‰²è°ƒæ•´ä¸ºä» `a` ç‚¹é¦–æ¬¡åˆ†å‰²ï¼Œä¸¤ç§åˆ†å‰²å½¢å¼åˆ†å‰²ç‚¹ä¸¤ç«¯ä»ä¸ºåˆæ³• `LR` å­ä¸²ï¼Œå› æ­¤ä¸ä¼šä»â€œæœ‰è§£â€å˜æˆâ€œæ— è§£â€ï¼›

2. ä» `b` åˆ†å‰²åçš„å‰©ä½™éƒ¨åˆ†é•¿åº¦å°äºä» `a` åˆ†å‰²åçš„å‰©ä½™éƒ¨åˆ†ï¼ŒåŒæ—¶ç”± `b` åˆ†å‰²åçš„å‰©ä½™éƒ¨åˆ†ä¼šè¢«ç”± `a` åˆ†å‰²åçš„å‰©ä½™éƒ¨åˆ†æ‰€ä¸¥æ ¼è¦†ç›–ï¼Œå› æ­¤ã€Œå¯¹ `a` åˆ†å‰²çš„å‰©ä½™éƒ¨åˆ†å†åˆ†å‰²æ‰€å¾—çš„å­ä¸²æ•°é‡ã€**è‡³å°‘** ä¸ã€Œä» `b` ç‚¹åˆ†å‰²çš„å‰©ä½™éƒ¨åˆ†å†åˆ†å‰²æ‰€å¾—çš„å­ä¸²æ•°é‡ã€ç›¸ç­‰ï¼ˆä¸ä¼šå˜å°‘ï¼‰ã€‚

![image.png](https://pic.leetcode-cn.com/1630980647-QhYQNU-image.png)

**è‡³æ­¤ï¼Œæˆ‘ä»¬è¯æ˜äº†å¯¹äºé¦–æ¬¡åˆ†å‰²ï¼Œå°†ä»»æ„åˆæ ¼åˆ†å‰²ç‚¹è°ƒæ•´ä¸ºæœ€å°åˆ†å‰²ç‚¹ï¼Œç»“æœä¸ä¼šå˜å¾—æ›´å·®ï¼ˆå½“ `a < b` æ—¶è¿˜ä¼šæ›´å¥½ï¼‰ã€‚**

**åŒæ—¶ï¼Œç”±äºé¦–æ¬¡åˆ†å‰²åçš„å‰©ä½™éƒ¨åˆ†ä»ä¸ºåˆæ ¼çš„ `LR` å­ä¸²ï¼Œå› æ­¤å½’çº³åˆ†ææ‰€ä¾èµ–çš„ç»“æ„æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥å°†ä¸Šè¿°çš„æ¨ç†åˆ†ææ¨å¹¿åˆ°æ¯ä¸€ä¸ªå†³ç­–çš„å›åˆï¼ˆæ–°è¾¹ç•Œï¼‰ä¸­ã€‚**

**è‡³æ­¤ï¼Œæˆ‘ä»¬è¯æ˜äº†åªè¦æ¯ä¸€æ¬¡éƒ½ä»æœ€å°åˆ†å‰²ç‚¹è¿›è¡Œåˆ†å‰²ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ä¼˜è§£ã€‚**


ä»£ç ï¼š
```Java []
class Solution {
    public int balancedStringSplit(String s) {
        char[] cs = s.toCharArray();
        int n = cs.length;
        int ans = 0;
        for (int i = 0; i < n; ) {
            int j = i + 1, score = cs[i] == 'L' ? 1 : -1;
            while (j < n && score != 0) score += cs[j++] == 'L' ? 1 : -1;
            i = j;
            ans++;
        }
        return ans;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼šè°ƒç”¨ `toCharArray` ä¼šæ‹·è´æ–°æ•°ç»„è¿›è¡Œè¿”å›ï¼ˆä¸ºéµå¾ª `String` çš„ä¸å¯å˜åŸåˆ™ï¼‰ï¼Œå› æ­¤ä½¿ç”¨ `toCharArray` å¤æ‚åº¦ä¸º $O(n)$ï¼Œä½¿ç”¨ `charAt` å¤æ‚åº¦ä¸º $O(1)$

---

## å…¶ä»–ã€Œç›¸ä¿¡ç§‘å­¦ç³»åˆ—ï¼ˆè´ªå¿ƒï¼‰ã€ç›¸å…³å†…å®¹

ä¸ç„¶å‘ç°ï¼Œã€Œè´ªå¿ƒé¢˜ã€è™½ç„¶å¤§å¤šæ•°ä»£ç ç®€å•ï¼Œä½†éš¾åº¦é€šå¸¸ä¸ºã€Œä¸­ç­‰ / å›°éš¾ã€ã€‚

å› ä¸ºã€Œè´ªå¿ƒé¢˜ã€é‡ç‚¹åœ¨äºè¯æ˜ï¼ˆç‰¹åˆ«åœ¨é¢è¯•ç¯èŠ‚ï¼‰ï¼Œåª AC ä¸è¯æ˜çš„æœ€å¤§å¼Šç«¯åœ¨äºï¼šç®€å•çš„æ¡ä»¶ä¿®æ”¹åï¼Œé€‰æ‰‹æ ¹æœ¬æ— æ³•å›ç­”åŸåšæ³•æ˜¯å¦è¿˜æ˜¯æ­£ç¡®ã€‚

**å› æ­¤ã€ŒAC å¹¶è¯æ˜ã€æ‰æ˜¯æ­£ç¡®çš„ã€ç§‘å­¦çš„åšã€Œè´ªå¿ƒé¢˜ã€çš„æ€åº¦ï¼Œè€Œä¸æ˜¯å› ä¸ºã€Œä¸ä¼šè¯æ˜ / çœ‹ä¸æ‡‚è¯æ˜ã€è€Œé€‰æ‹©æ”¾å¼ƒè¯æ˜ï¼Œç”šè‡³å¯¹è¯æ˜å—¤ä¹‹ä»¥é¼»ã€‚**

å¯¹äºè´ªå¿ƒé¢˜è¯æ˜ï¼Œå¤§å¤šæ•°äººå¯èƒ½ä¼šç»å†å¦‚ä¸‹å‡ ä¸ªé˜¶æ®µï¼š

ã€Œæ²¡æ„è¯†åˆ°éœ€è¦è¯æ˜ã€->ã€Œæ„è¯†åˆ°éœ€è¦è¯æ˜ï¼Œä½†ä¸ä¼šå¹¶çœ‹ä¸æ‡‚è¯æ˜ã€->ã€Œçœ‹å¾—æ‡‚è¯æ˜ï¼Œä½†æ˜¯è¯æ˜ä¸å‡ºæ¥ã€->ã€Œèƒ½è‡ªå·±ç»™å‡ºè¯æ˜ã€

å…¶ä¸­ç¬¬ä¸€æ­¥åˆ°ç¬¬äºŒæ­¥çš„è·ç¦»ï¼Œæ¯”æœ€åä¸¤æ­¥è·ç¦»åŠ èµ·æ¥è¿˜è¦è¿œã€‚

**æˆ‘çŒœè¿™æ‰æ˜¯å¤§å¤šæ•°äººä¸è°ˆã€Œè¯æ˜ã€çš„ç†ç”±ï¼ˆta æ²¡èµ°å‡ºç¬¬ä¸€æ­¥ï¼‰ï¼Œè€Œéã€Œè¯æ˜ã€ä¸é‡è¦ã€‚**

| é¢˜ç›®                                                         | é¢˜è§£                                                         | éš¾åº¦ | æ¨èæŒ‡æ•° |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- | -------- |
| [11. ç››æœ€å¤šæ°´çš„å®¹å™¨ ](https://leetcode-cn.com/problems/container-with-most-water/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/container-with-most-water/solution/shua-chuan-lc-shuang-zhi-zhen-tan-xin-ji-52gf/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [45. è·³è·ƒæ¸¸æˆ II](https://leetcode-cn.com/problems/jump-game-ii/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/jump-game-ii/solution/xiang-jie-dp-tan-xin-shuang-zhi-zhen-jie-roh4/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [179. æœ€å¤§æ•°](https://leetcode-cn.com/problems/largest-number/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/largest-number/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-vn86e/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [561. æ•°ç»„æ‹†åˆ† I](https://leetcode-cn.com/problems/array-partition-i/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/array-partition-i/solution/jue-dui-neng-kan-dong-de-zheng-ming-fan-f7trz/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [765. æƒ…ä¾£ç‰µæ‰‹](https://leetcode-cn.com/problems/couples-holding-hands/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/couples-holding-hands/solution/liang-chong-100-de-jie-fa-bing-cha-ji-ta-26a6/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [781. æ£®æ—ä¸­çš„å…”å­](https://leetcode-cn.com/problems/rabbits-in-forest/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/rabbits-in-forest/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-v17p5/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [881. æ•‘ç”Ÿè‰‡](https://leetcode-cn.com/problems/boats-to-save-people/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/boats-to-save-people/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-hosg8/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [995. K è¿ç»­ä½çš„æœ€å°ç¿»è½¬æ¬¡æ•°](https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips/solution/po-su-tan-xin-jie-fa-yu-tan-xin-chai-fen-4lyy/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [1221. åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/split-a-string-in-balanced-strings/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/split-a-string-in-balanced-strings/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-wumnk/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©     |
| [1707. ä¸æ•°ç»„ä¸­å…ƒç´ çš„æœ€å¤§å¼‚æˆ–å€¼](https://leetcode-cn.com/problems/maximum-xor-with-an-element-from-array/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-xor-with-an-element-from-array/solution/gong-shui-san-xie-jie-zhe-ge-wen-ti-lai-lypqr/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [1713. å¾—åˆ°å­åºåˆ—çš„æœ€å°‘æ“ä½œæ¬¡æ•°](https://leetcode-cn.com/problems/minimum-operations-to-make-a-subsequence/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/minimum-operations-to-make-a-subsequence/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-oj7yu/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [1833. é›ªç³•çš„æœ€å¤§æ•°é‡](https://leetcode-cn.com/problems/maximum-ice-cream-bars/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-ice-cream-bars/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-yrhjx/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [1846. å‡å°å’Œé‡æ–°æ’åˆ—æ•°ç»„åçš„æœ€å¤§å…ƒç´ ](https://leetcode-cn.com/problems/maximum-element-after-decreasing-and-rearranging/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-element-after-decreasing-and-rearranging/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-yh9qt/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |
| [1877. æ•°ç»„ä¸­æœ€å¤§æ•°å¯¹å’Œçš„æœ€å°å€¼](https://leetcode-cn.com/problems/minimize-maximum-pair-sum-in-array/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/minimize-maximum-pair-sum-in-array/solution/gong-shui-san-xie-noxiang-xin-ke-xue-xi-ru29y/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©    |

**æ³¨ï¼šä»¥ä¸Šç›®å½•æ•´ç†æ¥è‡ª [wiki](https://github.com/SharingSource/LogicStack-LeetCode/wiki/è´ªå¿ƒç®—æ³•)ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½å¼•ç”¨è¯·ä¿ç•™å‡ºå¤„ã€‚**

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**
