## [719.æ‰¾å‡ºç¬¬ K å°çš„æ•°å¯¹è·ç¦» ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/find-k-th-smallest-pair-distance/solutions/100000/by-ac_oier-o4if)

ä½œè€…ï¼š[AC_OIer](https://leetcode.cn/u/AC_OIer)
## äºŒåˆ† + åŒæŒ‡é’ˆ

æ ¹æ®é¢˜æ„ï¼Œç”±äºå¯¹è·ç¦»å®šä¹‰ä½¿ç”¨çš„æ˜¯ç»å¯¹å€¼ï¼Œå› æ­¤ä»åŸæ•°ç»„ä¸­æ‰¾æ•°å¯¹ $(i, j)$ï¼Œç­‰ä»·äºåœ¨æ’åºæ•°ç»„ä¸­æ‰¾æ•°å¯¹ $(i, j)$ã€‚

åŒæ—¶ç”±äº $k$ çš„èŒƒå›´ä¸º $n^2$ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨å¤æ‚åº¦ä¸º $O(k\log{n})$ çš„ã€Œå¤šè·¯å½’å¹¶ã€åšæ³•æ¥åšã€‚

åˆ©ç”¨æ•°æ®èŒƒå›´ $0 <= nums[i] <= 10^6$ï¼Œæˆ‘ä»¬çŸ¥é“è·ç¦»å€¼åŸŸèŒƒå›´ä¸º $[0, 10^6]$ï¼Œå‡è®¾æ‰€èƒ½å½¢æˆçš„è·ç¦»åºåˆ—ä¸º $A = a_1, a_2, ... ,a_m$ï¼Œæ­¤æ—¶åœ¨ä»¥ç¬¬ $k$ å°çš„è·ç¦»å€¼ä¸ºåˆ†å‰²ç‚¹çš„æ•°è½´ä¸Šï¼Œå…·æœ‰ã€ŒäºŒæ®µæ€§ã€ï¼Œè®°è¿™ç¬¬ $k$ å°çš„è·ç¦»å€¼ä¸º $a_k$ï¼š

* å¤„äº $a_k$ å³ä¾§çš„æ‰€æœ‰ä½ç½® $a_i$ï¼ˆåŒ…å« $a_k$ï¼‰**å¿…ç„¶æ»¡è¶³**ã€Œåºåˆ— $A$ ä¸­å€¼å°äºç­‰äº $a_i$ çš„æ•°ä¸å°‘äº $k$ ä¸ªã€ï¼›
* å¤„äº $a_k$ å·¦ä¾§çš„æ‰€æœ‰ä½ç½® $a_i$ï¼ˆä¸åŒ…å« $a_k$ï¼‰**ä¸ä¸€å®šæ»¡è¶³**ã€Œåºåˆ— $A$ ä¸­å€¼å°äºç­‰äº $a_i$ çš„æ•°ä¸å°‘äº $k$ ä¸ªã€ï¼ˆå½“ä¸”ä»…å½“ $a_k$ åœ¨åºåˆ— $A$ ä¸­ä¸é‡å¤ï¼Œæˆ– $a_k$ æ°å¥½æ˜¯è¿ç»­æ®µè·ç¦»å€¼ä¸­çš„å·¦ç«¯ç‚¹æ—¶ï¼Œå¿…ç„¶ä¸æ»¡è¶³ï¼‰ã€‚

å› æ­¤è¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ»¡è¶³ `1?` ç‰¹æ€§ï¼ˆè€Œä¸æ˜¯ `10` ç‰¹æ€§ï¼‰çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€ŒäºŒåˆ†ã€æ¥æ‰¾åˆ° $a_k$ å€¼ã€‚

å‡è®¾å½“å‰æˆ‘ä»¬äºŒåˆ†åˆ°çš„å€¼æ˜¯ $x$ï¼Œåˆ©ç”¨æˆ‘ä»¬æ’åºå¥½çš„ `nums`ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦çœŸæ­£çš„æ„å»ºå‡ºåºåˆ— $A$ï¼Œå³å¯ç»Ÿè®¡å€¼å°äºç­‰äº $x$ çš„æ•°é‡ï¼šæšä¸¾å·¦ç«¯ç‚¹ $i$ï¼Œæ¯æ¬¡æ‰¾ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å³ç«¯ç‚¹ $j$ï¼ˆç”±äº $j$ æ˜¯ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å€¼ï¼Œå› æ­¤åˆæ³•å³ç«¯ç‚¹èŒƒå›´ä¸º $[i + 1, j - 1]$ï¼Œå…± $j - i - 1$ ä¸ªï¼‰ï¼Œåˆ©ç”¨ `nums` æœ‰åºï¼Œå¹¶ä¸”æ‰€æœ‰ $nums[i]$ å‡ä¸ºæ­£æ•°ï¼Œå¯çŸ¥ $j$ ä¼šéšç€ $i$ å¢å¤§è€Œé€æ­¥å¢å¤§ï¼Œå³è¿™éƒ¨åˆ†åˆ©ç”¨ã€ŒåŒæŒ‡é’ˆã€å¯å®ç° $O(n)$ å¤æ‚åº¦ã€‚

ä»£ç ï¼š
```Java []
class Solution {
    public int smallestDistancePair(int[] nums, int k) {
        Arrays.sort(nums);
        int l = 0, r = (int)1e6;
        while (l < r) {
            int mid = l + r >> 1;
            if (check(nums, mid) >= k) r = mid;
            else l = mid + 1;
        }
        return r;
    }
    int check(int[] nums, int x) {
        int n = nums.length, ans = 0;
        for (int i = 0, j = 1; i < n; i++) {
            while (j < n && nums[j] - nums[i] <= x) j++;
            ans += j - i - 1;
        }
        return ans;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼šæ’åºçš„å¤æ‚åº¦ä¸º $O(n\log{n})$ï¼ŒäºŒåˆ†ç­”æ¡ˆå¤æ‚åº¦ä¸º $O(n\log{m})$ï¼Œå…¶ä¸­ $m = 1e6$ ä¸ºè·ç¦»å€¼åŸŸã€‚æ•´ä½“å¤æ‚åº¦ä¸º $O(n\log{m})$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(\log{n})$

---

## æœ€å

ä»Šå¤©æ˜¯è¿ç»­æ›´æ–°æ¯æ—¥ä¸€é¢˜é¢˜è§£çš„ç¬¬ $500$ å¤© ğŸ‰ ğŸ‰ ï¼ˆå¯¹æˆ‘è€Œè¨€ï¼Œ$100$ å¤©å¸¸æœ‰ï¼Œ$500$ è¿˜æ˜¯ç¬¬ä¸€æ¬¡ï¼Œ~~ç¨åä¼šåœ¨è®¨è®ºåŒºå‘ä¸ªæ€»ç»“~~ åœ¨ [è¿™é‡Œ](https://leetcode.cn/circle/discuss/42Bgmk/) å‘¢ ~

ç‰¹æ®Šçš„æ—¥å­ï¼Œå¼€ä¸ªèµèµæ‹ä¸ªå…¨å®¶ç¦ï¼Œä»ç„¶æ˜¯ã€Œ**å­¦ç”Ÿå…è´¹ï¼Œéå­¦ç”Ÿæ˜¯å¦èµèµéƒ½èƒ½çœ‹**ã€çš„åŸåˆ™ã€‚

å¦å¤–éœ€è¦å¼ºè°ƒï¼šåŠ›æ‰£ã€Œèµèµã€è¡Œä¸ºçš„å‘ç”Ÿï¼Œå¿…é¡»åŸºäºã€Œä½ ååˆ†å–œæ¬¢è¯¥ä½œè€…ã€&ã€Œä½ ååˆ†å–œæ¬¢è¯¥å¹³å°ã€ï¼Œä¸¤è€…ç¼ºä¸€ä¸å¯ã€‚

å¦‚æœä½ ç¡®å®šæ»¡è¶³ä¸Šè¿°æ‰€æœ‰æ¡ä»¶çš„è¯ï¼Œå¯ä»¥èŠ± **æœ€å¤šä¸€å…ƒï¼ˆåƒä¸‡åƒä¸‡ä¸è¦ç»™å¤šäº†ï¼Œå°±ç»™ä¸€å…ƒå°±è¡Œï¼‰** ç•™ä¸ªå¤´åƒ ğŸ¤£ï¼Œæˆ–è€…åªéœ€ç»™æˆ‘ç‚¹ä¸ªèµç•™ä¸ªè¨€ï¼Œæˆ‘ä¹ŸåŒæ ·å¼€å¿ƒ â¤ï¸

![WechatIMG2425.jpeg](https://pic.leetcode-cn.com/1655258759-NKjVmO-WechatIMG2425.jpeg)
