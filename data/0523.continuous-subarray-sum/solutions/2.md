## [523.è¿ç»­çš„å­æ•°ç»„å’Œ ä¸­æ–‡çƒ­é—¨é¢˜è§£2](https://leetcode.cn/problems/continuous-subarray-sum/solutions/100000/zheng-ming-dong-tu-bang-ni-chi-tou-ben-t-nldg)

ä½œè€…ï¼š[Xiaohu9527](https://leetcode.cn/u/Xiaohu9527)

### æ³•ä¸€(TLE)
æœ€ç®€å•çš„ä¸€ç§æ–¹æ³•å°±æ˜¯å…ˆæ±‚å‰ç¼€å’Œæ•°ç»„ï¼Œç„¶ååœ¨éå†æ‰€æœ‰çš„å¯èƒ½æ€§ã€‚æœ¬äººä¸€å¼€å§‹å°±æ˜¯è¿™ä¹ˆç®€å•æ— è„‘ï¼Œç»“æœå¡åœ¨ç¬¬93ä¾‹...
æ—¶é—´å¤æ‚åº¦ï¼š $O(n^2)$
ç©ºé—´å¤æ‚åº¦ï¼š $O(n)$
******************************
```cpp
class Solution {
public:
    bool checkSubarraySum(vector<int>& nums, int k) {
        int n = nums.size();
        vector<int> preSum(n+1);
        for(int i = 0; i < n; ++i)
            preSum[i+1] = preSum[i] + nums[i];
        
        for(int i = 0; i < n-1; ++i)
            for(int j = i+2; j <= n; ++j)
                if((preSum[j] - preSum[i])%k == 0)
                    return true;
        return false;
    }
};
```
********************************
**æ³•äºŒï¼š(åˆ©ç”¨ä¸€ä¸‹ä½™æ•°ä¸å‰ç¼€å’Œçš„æ€æƒ³)**
æˆ‘ä»¬å…ˆè¯´ä¸€ä¸‹ç®—æ³•çš„æ­¥éª¤:
1. åˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œ$key$æ¥å‚¨å­˜å½“å‰å‰ç¼€å’Œçš„ä½™æ•°ï¼Œ$value$åˆ™å‚¨å­˜å¯¹åº”çš„$index$
2. å¦‚æœå“ˆå¸Œè¡¨ä¸­å­˜åœ¨å…¶å¯¹åº”çš„ä½™æ•°ï¼Œå–å‡ºå…¶$pos$ï¼Œçœ‹å½“å‰çš„ä¸‹æ ‡ $index$ åˆ° $pos$çš„è·ç¦»æ˜¯å¦å¤§äºç­‰äº2. å¦‚æœæ˜¯åˆ™è¿”å›`true`ã€‚ä¸æ˜¯æˆ‘ä»¬åˆ™ç»§ç»­éå†ã€‚ä¸è¦æ›´æ–°å“ˆå¸Œè¡¨ä¸­çš„ä¸‹æ ‡ï¼(è´ªå¿ƒçš„æ€ç»´)
3. å¦‚æœä¸å­˜åœ¨åˆ™å°†å½“å‰ä½™æ•°ä¸å…¶å¯¹åº”çš„ä¸‹æ ‡å‚¨å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚

**æ ¸å¿ƒï¼šå½“ä¸¤ä¸ªä¸åŒä½ç½®çš„å‰ç¼€å’Œå¯¹ $k$ çš„å–ä½™ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬çœ‹è¿™ä¸¤ä¸ªä½ç½®çš„ä¸‹æ ‡æ˜¯å¦è·ç¦»å¤§äºç­‰äº2. å¦‚æœæ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œæˆ‘ä»¬å³æ‰¾åˆ°äº†ä¸€ä¸ªè¿ç»­æ•°ç»„çš„å’Œæ˜¯ $k$ çš„å€æ•°ã€‚**

ä½ é—®æˆ‘ç­”ï¼šä¸ºä»€ä¹ˆæ‰¾åˆ°äº†ç›¸åŒçš„ä½™æ•°å°±ç›¸å½“äºæ‰¾åˆ°äº†ä¸€ä¸ªè¿ç»­çš„å‰ç¼€å’Œæ˜¯ $k$ çš„å€æ•°ï¼Ÿ
![c6692caa5558033f6723926f4ffb024.png](https://pic.leetcode-cn.com/1622568382-AMGVuO-c6692caa5558033f6723926f4ffb024.png)
*******************************
åŠ¨å›¾æ¼”ç¤ºï¼š

<![Slide1.PNG](https://pic.leetcode-cn.com/1622570022-awcBqI-Slide1.PNG),![Slide2.PNG](https://pic.leetcode-cn.com/1622570024-dlNsSA-Slide2.PNG),![Slide3.PNG](https://pic.leetcode-cn.com/1622570026-jvFhOY-Slide3.PNG),![Slide4.PNG](https://pic.leetcode-cn.com/1622570029-IecSwz-Slide4.PNG),![Slide5.PNG](https://pic.leetcode-cn.com/1622570031-fKxcBp-Slide5.PNG),![BEW.png](https://pic.leetcode-cn.com/1622572081-XggoHx-BEW.png)>
*******************
```cpp
class Solution {
public:
    bool checkSubarraySum(vector<int>& nums, int k) {
        unordered_map<int, int> m = {{0,-1}};
        int rem = 0;
        for(int i = 0; i < nums.size(); ++i)
        {
            rem = (rem + nums[i])%k;
            if(m.count(rem))
            {
                int pos = m[rem];
                if((i - pos) >= 2)
                    return true;
            }
            else
                m[rem] = i;
        }
        return false;
    }
};
```
*************
æ—¶é—´å¤æ‚åº¦: $O(n)$
ç©ºé—´å¤æ‚åº¦: $O(n)$
*******************
å¦‚æœè§‰å¾—è¿˜è¡Œè¯·ç»™æˆ‘ä¸ªå¤§å¤§çš„ğŸ‘å§, è°¢è°¢å„ä½äº†ï¼