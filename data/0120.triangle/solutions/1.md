## [120.ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/triangle/solutions/100000/di-gui-ji-yi-hua-dp-bi-xu-miao-dong-by-sweetiee)

ä½œè€…ï¼š[sweetiee](https://leetcode.cn/u/sweetiee)



ğŸ™‹ ä»Šæ—¥æ‰“å¡ï½


### ä¸€ã€é¢˜ç›®åˆ†æ
**é¢˜æ„**ï¼š
ç»™å®šä¸‰è§’å½¢ï¼Œæ¯æ¬¡åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­çš„ç›¸é‚»ç»“ç‚¹ï¼Œæ±‚ä»é¡¶ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œã€‚
```Java []
[
[2],
[3,4],
[6,5,7],
[4,1,8,3]
]
ç›¸é‚»ç»“ç‚¹ï¼šä¸ `(i, j)` ç‚¹ç›¸é‚»çš„ç»“ç‚¹ä¸º `(i + 1, j)`Â å’Œ `(i + 1, j + 1)`ã€‚
```


**åˆ†æ**ï¼š
è‹¥å®šä¹‰ $f(i, j)$ ä¸º $(i, j)$ ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œï¼Œåˆ™æ˜“çŸ¥é€’å½’æ±‚è§£å¼ä¸º:

$f(i, j) = min(f(i + 1, j), f(i + 1, j + 1)) + triangle[i][j]$

ç”±æ­¤ï¼Œæˆ‘ä»¬å°†ä»»ä¸€ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œï¼Œè½¬åŒ–æˆäº†ä¸è¯¥ç‚¹ç›¸é‚»ä¸¤ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œä¸­çš„è¾ƒå°å€¼ï¼Œå†åŠ ä¸Šè¯¥ç‚¹æœ¬èº«çš„å€¼ã€‚è¿™æ ·æœ¬é¢˜çš„ **é€’å½’è§£æ³•ï¼ˆè§£æ³•ä¸€ï¼‰** å°±å®Œæˆäº†ã€‚

### äºŒã€å…·ä½“å®ç°
#### è§£æ³•ä¸€ï¼šé€’å½’
```Java []
class Solution {
    public int minimumTotal(List<List<Integer>> triangle) {
        return  dfs(triangle, 0, 0);
    }

    private int dfs(List<List<Integer>> triangle, int i, int j) {
        if (i == triangle.size()) {
            return 0;
        }
        return Math.min(dfs(triangle, i + 1, j), dfs(triangle, i + 1, j + 1)) + triangle.get(i).get(j);
    }
}
```
æš´åŠ›æœç´¢ä¼šæœ‰å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œå¯¼è‡´ **è¶…æ—¶**ï¼Œå› æ­¤åœ¨ **è§£æ³•äºŒ** ä¸­ç»“åˆè®°å¿†åŒ–æ•°ç»„è¿›è¡Œä¼˜åŒ–ã€‚


#### è§£æ³•äºŒï¼šé€’å½’ + è®°å¿†åŒ–

åœ¨è§£æ³•ä¸€çš„åŸºç¡€ä¸Šï¼Œå®šä¹‰äº†äºŒç»´æ•°ç»„è¿›è¡Œè®°å¿†åŒ–ã€‚
```Java []
class Solution {
    Integer[][] memo;
    public int minimumTotal(List<List<Integer>> triangle) {
        memo = new Integer[triangle.size()][triangle.size()];
        return  dfs(triangle, 0, 0);
    }

    private int dfs(List<List<Integer>> triangle, int i, int j) {
        if (i == triangle.size()) {
            return 0;
        }
        if (memo[i][j] != null) {
            return memo[i][j];
        }
        return memo[i][j] = Math.min(dfs(triangle, i + 1, j), dfs(triangle, i + 1, j + 1)) + triangle.get(i).get(j);
    }
}
```
æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚

### è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’
å®šä¹‰äºŒç»´ `dp` æ•°ç»„ï¼Œå°†è§£æ³•äºŒä¸­ã€Œè‡ªé¡¶å‘ä¸‹çš„é€’å½’ã€æ”¹ä¸ºã€Œè‡ªåº•å‘ä¸Šçš„é€’æ¨ã€ã€‚
#### 1ã€çŠ¶æ€å®šä¹‰ï¼š
$dp[i][j]$ è¡¨ç¤ºä»ç‚¹ $(i, j)$ åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œã€‚
#### 2ã€çŠ¶æ€è½¬ç§»ï¼š
$dp[i][j] = min(dp[i + 1][j], dp[i + 1][j + 1]) + triangle[i][j]$
#### 3ã€ä»£ç å®ç°ï¼š
```Java []
class Solution {
    public int minimumTotal(List<List<Integer>> triangle) {
        int n = triangle.size();
        // dp[i][j] è¡¨ç¤ºä»ç‚¹ (i, j) åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œã€‚
        int[][] dp = new int[n + 1][n + 1];
        // ä»ä¸‰è§’å½¢çš„æœ€åä¸€è¡Œå¼€å§‹é€’æ¨ã€‚
        for (int i = n - 1; i >= 0; i--) {
            for (int j = 0; j <= i; j++) {
                dp[i][j] = Math.min(dp[i + 1][j], dp[i + 1][j + 1]) + triangle.get(i).get(j);
            }
        }
        return dp[0][0];
    }
}
```
æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚

#### 4ã€ç©ºé—´ä¼˜åŒ–   
åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª $N$ è¡Œ $N$ åˆ— çš„ $dp$ æ•°ç»„ï¼ˆ$N$ æ˜¯ä¸‰è§’å½¢çš„è¡Œæ•°ï¼‰ã€‚
ä½†æ˜¯åœ¨å®é™…é€’æ¨ä¸­æˆ‘ä»¬å‘ç°ï¼Œè®¡ç®— $dp[i][j]$ æ—¶ï¼Œåªç”¨åˆ°äº†ä¸‹ä¸€è¡Œçš„ $dp[i + 1][j]$ å’Œ $dp[i + 1][j + 1]$ã€‚
å› æ­¤ $dp$ æ•°ç»„ä¸éœ€è¦å®šä¹‰ $N$ è¡Œï¼Œåªè¦å®šä¹‰ $1$ è¡Œå°±é˜”ä»¥å•¦ã€‚
æ‰€ä»¥æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä¸Šè¿°ä»£ç ï¼Œå°† $i$ æ‰€åœ¨çš„ç»´åº¦å»æ‰ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œå°±å¯ä»¥å°† $O(N^2)$ çš„ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–æˆ $O(N)$ å•¦ï½

```Java []
class Solution {
    public int minimumTotal(List<List<Integer>> triangle) {
        int n = triangle.size();
        int[] dp = new int[n + 1];
        for (int i = n - 1; i >= 0; i--) {
            for (int j = 0; j <= i; j++) {
                dp[j] = Math.min(dp[j], dp[j + 1]) + triangle.get(i).get(j);
            }
        }
        return dp[0];
    }
}
```
æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚



