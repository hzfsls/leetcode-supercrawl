## [1664.ç”Ÿæˆå¹³è¡¡æ•°ç»„çš„æ–¹æ¡ˆæ•° ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/ways-to-make-a-fair-array/solutions/100000/by-lcbin-3jl3)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)

**æ–¹æ³•ä¸€ï¼šé¢„å¤„ç† + æšä¸¾**

æˆ‘ä»¬å…ˆé¢„å¤„ç†å¾—åˆ°æ•°ç»„ `nums` çš„å¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œ $s_1$ ä»¥åŠå¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œ $s_2$ã€‚

ç„¶åä»å‰å¾€åæšä¸¾æ•°ç»„ `nums` çš„æ¯ä¸ªå…ƒç´  $v$ï¼Œç”¨å˜é‡ $t_1$ å’Œ $t_2$ åˆ†åˆ«è®°å½•å·²éå†çš„å¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä»¥åŠå¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œã€‚

æˆ‘ä»¬è§‚å¯Ÿå‘ç°ï¼Œå¯¹äºå½“å‰éå†åˆ°çš„å…ƒç´  $v$ï¼Œå¦‚æœåˆ é™¤äº†ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ ä¹‹åçš„å¥‡å¶ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¼šå‘ç”Ÿäº¤æ¢ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å…ˆåˆ¤æ–­è¯¥ä½ç½®ä¸‹æ ‡ $i$ æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ã€‚

-   å¦‚æœæ˜¯å¶æ•°ä¸‹æ ‡ï¼Œåˆ é™¤è¯¥å…ƒç´ åï¼Œæ•°ç»„çš„å¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º $t_2 + s_1 - t_1 - v$ï¼Œè€Œå¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º $t_1 + s_2 - t_2$ï¼Œå¦‚æœè¿™ä¸¤ä¸ªå’Œç›¸ç­‰ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå¹³è¡¡æ•°ç»„ï¼Œç­”æ¡ˆåŠ ä¸€ã€‚

-   å¦‚æœæ˜¯å¥‡æ•°ä¸‹æ ‡ï¼Œåˆ é™¤è¯¥å…ƒç´ åï¼Œæ•°ç»„çš„å¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º $t_1 + s_2 - t_2 - v$ï¼Œè€Œå¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º $t_2 + s_1 - t_1$ï¼Œå¦‚æœè¿™ä¸¤ä¸ªå’Œç›¸ç­‰ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå¹³è¡¡æ•°ç»„ï¼Œç­”æ¡ˆåŠ ä¸€ã€‚

ç„¶åæˆ‘ä»¬æ ¹æ®ä¸‹æ ‡çš„å¥‡å¶æ€§æ›´æ–° $t_1$ æˆ– $t_2$ï¼Œç»§ç»­éå†ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚éå†å®Œæ•°ç»„åï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚


```python [sol1-Python3]
class Solution:
    def waysToMakeFair(self, nums: List[int]) -> int:
        s1, s2 = sum(nums[::2]), sum(nums[1::2])
        ans = t1 = t2 = 0
        for i, v in enumerate(nums):
            ans += i % 2 == 0 and t2 + s1 - t1 - v == t1 + s2 - t2
            ans += i % 2 == 1 and t2 + s1 - t1 == t1 + s2 - t2 - v
            t1 += v if i % 2 == 0 else 0
            t2 += v if i % 2 == 1 else 0
        return ans
```


```java [sol1-Java]
class Solution {
    public int waysToMakeFair(int[] nums) {
        int s1 = 0, s2 = 0;
        int n = nums.length;
        for (int i = 0; i < n; ++i) {
            s1 += i % 2 == 0 ? nums[i] : 0;
            s2 += i % 2 == 1 ? nums[i] : 0;
        }
        int t1 = 0, t2 = 0;
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            int v = nums[i];
            ans += i % 2 == 0 && t2 + s1 - t1 - v == t1 + s2 - t2 ? 1 : 0;
            ans += i % 2 == 1 && t2 + s1 - t1 == t1 + s2 - t2 - v ? 1 : 0;
            t1 += i % 2 == 0 ? v : 0;
            t2 += i % 2 == 1 ? v : 0;
        }
        return ans;
    }
}
```



```cpp [sol1-C++]
class Solution {
public:
    int waysToMakeFair(vector<int>& nums) {
        int s1 = 0, s2 = 0;
        int n = nums.size();
        for (int i = 0; i < n; ++i) {
            s1 += i % 2 == 0 ? nums[i] : 0;
            s2 += i % 2 == 1 ? nums[i] : 0;
        }
        int t1 = 0, t2 = 0;
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            int v = nums[i];
            ans += i % 2 == 0 && t2 + s1 - t1 - v == t1 + s2 - t2;
            ans += i % 2 == 1 && t2 + s1 - t1 == t1 + s2 - t2 - v;
            t1 += i % 2 == 0 ? v : 0;
            t2 += i % 2 == 1 ? v : 0;
        }
        return ans;
    }
};
```


```go [sol1-Go]
func waysToMakeFair(nums []int) (ans int) {
	var s1, s2, t1, t2 int
	for i, v := range nums {
		if i%2 == 0 {
			s1 += v
		} else {
			s2 += v
		}
	}
	for i, v := range nums {
		if i%2 == 0 && t2+s1-t1-v == t1+s2-t2 {
			ans++
		}
		if i%2 == 1 && t2+s1-t1 == t1+s2-t2-v {
			ans++
		}
		if i%2 == 0 {
			t1 += v
		} else {
			t2 += v
		}
	}
	return
}
```

æ—¶é—´å¤æ‚åº¦ $O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚å…¶ä¸­ $n$ ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚


---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿è¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆğŸ˜„~