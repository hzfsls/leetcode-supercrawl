## [1054.è·ç¦»ç›¸ç­‰çš„æ¡å½¢ç  ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/distant-barcodes/solutions/100000/python3javacgotypescript-yi-ti-yi-jie-ji-3or2)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)



**æ–¹æ³•ä¸€ï¼šè®¡æ•° + æŽ’åº**

æˆ‘ä»¬å…ˆç”¨å“ˆå¸Œè¡¨æˆ–æ•°ç»„ $cnt$ ç»Ÿè®¡æ•°ç»„ $barcodes$ ä¸­å„ä¸ªæ•°å‡ºçŽ°çš„æ¬¡æ•°ï¼Œç„¶åŽå°† $barcodes$ ä¸­çš„æ•°æŒ‰ç…§å®ƒä»¬åœ¨ $cnt$ ä¸­å‡ºçŽ°çš„æ¬¡æ•°ä»Žå¤§åˆ°å°æŽ’åºï¼Œå¦‚æžœå‡ºçŽ°æ¬¡æ•°ç›¸åŒï¼Œé‚£ä¹ˆå°±æŒ‰ç…§æ•°çš„å¤§å°ä»Žå°åˆ°å¤§æŽ’åºï¼ˆç¡®ä¿ç›¸åŒçš„æ•°ç›¸é‚»ï¼‰ã€‚

æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„ç­”æ¡ˆæ•°ç»„ $ans$ï¼Œç„¶åŽéåŽ†æŽ’å¥½åºçš„ $barcodes$ï¼Œå°†å…ƒç´ ä¾æ¬¡å¡«å…¥ç­”æ¡ˆæ•°ç»„çš„ $0, 2, 4, \cdots$ ç­‰å¶æ•°ä¸‹æ ‡ä½ç½®ï¼Œç„¶åŽå°†å‰©ä½™å…ƒç´ ä¾æ¬¡å¡«å…¥ç­”æ¡ˆæ•°ç»„çš„ $1, 3, 5, \cdots$ ç­‰å¥‡æ•°ä¸‹æ ‡ä½ç½®å³å¯ã€‚




```python [sol1-Python3]
class Solution:
    def rearrangeBarcodes(self, barcodes: List[int]) -> List[int]:
        cnt = Counter(barcodes)
        barcodes.sort(key=lambda x: (-cnt[x], x))
        n = len(barcodes)
        ans = [0] * len(barcodes)
        ans[::2] = barcodes[: (n + 1) // 2]
        ans[1::2] = barcodes[(n + 1) // 2:]
        return ans
```


```java [sol1-Java]
class Solution {
    public int[] rearrangeBarcodes(int[] barcodes) {
        int n = barcodes.length;
        Integer[] t = new Integer[n];
        int mx = 0;
        for (int i = 0; i < n; ++i) {
            t[i] = barcodes[i];
            mx = Math.max(mx, barcodes[i]);
        }
        int[] cnt = new int[mx + 1];
        for (int x : barcodes) {
            ++cnt[x];
        }
        Arrays.sort(t, (a, b) -> cnt[a] == cnt[b] ? a - b : cnt[b] - cnt[a]);
        int[] ans = new int[n];
        for (int k = 0, j = 0; k < 2; ++k) {
            for (int i = k; i < n; i += 2) {
                ans[i] = t[j++];
            }
        }
        return ans;
    }
}
```



```cpp [sol1-C++]
class Solution {
public:
    vector<int> rearrangeBarcodes(vector<int>& barcodes) {
        int mx = *max_element(barcodes.begin(), barcodes.end());
        int cnt[mx + 1];
        memset(cnt, 0, sizeof(cnt));
        for (int x : barcodes) {
            ++cnt[x];
        }
        sort(barcodes.begin(), barcodes.end(), [&](int a, int b) {
            return cnt[a] > cnt[b] || (cnt[a] == cnt[b] && a < b);
        });
        int n = barcodes.size();
        vector<int> ans(n);
        for (int k = 0, j = 0; k < 2; ++k) {
            for (int i = k; i < n; i += 2) {
                ans[i] = barcodes[j++];
            }
        }
        return ans;
    }
};
```


```go [sol1-Go]
func rearrangeBarcodes(barcodes []int) []int {
	mx := 0
	for _, x := range barcodes {
		mx = max(mx, x)
	}
	cnt := make([]int, mx+1)
	for _, x := range barcodes {
		cnt[x]++
	}
	sort.Slice(barcodes, func(i, j int) bool {
		a, b := barcodes[i], barcodes[j]
		if cnt[a] == cnt[b] {
			return a < b
		}
		return cnt[a] > cnt[b]
	})
	n := len(barcodes)
	ans := make([]int, n)
	for k, j := 0, 0; k < 2; k++ {
		for i := k; i < n; i, j = i+2, j+1 {
			ans[i] = barcodes[j]
		}
	}
	1. return ans
}

func max(a, b int) int {
	if a > b {
		return a
	}
	return b
}
```

```ts [sol1-TypeScript]
function rearrangeBarcodes(barcodes: number[]): number[] {
    const mx = Math.max(...barcodes);
    const cnt = Array(mx + 1).fill(0);
    for (const x of barcodes) {
        ++cnt[x];
    }
    barcodes.sort((a, b) => (cnt[a] === cnt[b] ? a - b : cnt[b] - cnt[a]));
    const n = barcodes.length;
    const ans = Array(n);
    for (let k = 0, j = 0; k < 2; ++k) {
        for (let i = k; i < n; i += 2, ++j) {
            ans[i] = barcodes[j];
        }
    }
    return ans;
}
```

æ—¶é—´å¤æ‚åº¦ $O(n \times \log n)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(M)$ã€‚å…¶ä¸­ $n$ å’Œ $M$ åˆ†åˆ«æ˜¯æ•°ç»„ $barcodes$ çš„é•¿åº¦ä»¥åŠæ•°ç»„ $barcodes$ ä¸­çš„æœ€å¤§å€¼ã€‚

---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿Žè¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿Žè¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµžæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆðŸ˜„~