## [303.åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜ ä¸­æ–‡çƒ­é—¨é¢˜è§£2](https://leetcode.cn/problems/range-sum-query-immutable/solutions/100000/tu-jie-guan-fang-tui-jian-ti-jie-qu-yu-h-b1fy)

ä½œè€…ï¼š[demigodliu](https://leetcode.cn/u/demigodliu)

![å›¾è§£æ¯æ—¥ä¸€ç»ƒ.jpg](https://pic.leetcode-cn.com/1615817903-fzmpwZ-%E5%9B%BE%E8%A7%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83.jpg)

---

### ğŸ§  è§£é¢˜æ€è·¯

è¦æ±‚ä¸€ä¸ªåŒºé—´èŒƒå›´å†…çš„æ•°ä¹‹å’Œï¼Œå¦‚æœé‡‡ç”¨ç°æ‰¾ç°åŠ çš„æ–¹å¼ï¼Œå°†ä¼šå¯¼è‡´å¤æ‚åº¦è·Ÿæ±‚å’ŒèŒƒå›´ç´§å¯†ç›¸å…³ã€‚

æˆ‘ä»¬èƒ½åšçš„æ›´å¥½çš„ï¼Œå°±æ˜¯è®©æ£€ç´¢ç»“æœçš„æ—¶å€™ï¼Œå°†å…¶å¤æ‚åº¦é™ä¸ºå¸¸é‡çº§ï¼Œä¹Ÿå°±æ˜¯å•çº¯çš„æ•°å­¦è®¡ç®—ã€‚

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥å­˜æ”¾ä»åŸæ•°ç»„æ¯é¡¹ç´¯åŠ çš„å’Œï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºå‰ç¼€å’Œæ•°ç»„ã€‚

è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å‡æ³•ï¼Œç›´æ¥å¾—å‡ºç»“æœï¼Œå…¬å¼ï¼š$sumRange(i,j)=sums[j+1]âˆ’sums[i]$ã€‚

---

### ğŸ¨ å›¾è§£æ¼”ç¤º

<![1@2x.png](https://pic.leetcode-cn.com/1615704668-rFtkma-1@2x.png),![2@2x.png](https://pic.leetcode-cn.com/1615704671-fCRWkU-2@2x.png),![3@2x.png](https://pic.leetcode-cn.com/1615704675-JYTGom-3@2x.png),![4@2x.png](https://pic.leetcode-cn.com/1615704678-xmkrXr-4@2x.png),![5@2x.png](https://pic.leetcode-cn.com/1615704681-dvffAj-5@2x.png),![6@2x.png](https://pic.leetcode-cn.com/1615704685-ZdDFhi-6@2x.png),![7@2x.png](https://pic.leetcode-cn.com/1615705477-AsKmNt-7@2x.png)>

---

### ğŸ­ ç¤ºä¾‹ä»£ç 

```Javascript []
var NumArray = function (nums) {
    this.sums = new Array(nums.length + 1).fill(0);
    for (let i = 0, len = nums.length; i < len; i++) {
        this.sums[i + 1] = this.sums[i] + nums[i];
    }
};

NumArray.prototype.sumRange = function (i, j) {
    return this.sums[j + 1] - this.sums[i];
};
```
```Java []
class NumArray {
    int[] sums;

    public NumArray(int[] nums) {
        int n = nums.length;
        sums = new int[n + 1];
        for (int i = 0; i < n; i++) {
            sums[i + 1] = sums[i] + nums[i];
        }
    }
    
    public int sumRange(int i, int j) {
        return sums[j + 1] - sums[i];
    }
}
```
```C []
typedef struct {
    int* sums;
} NumArray;

NumArray* numArrayCreate(int* nums, int numsSize) {
    NumArray* ret = malloc(sizeof(NumArray));
    ret->sums = malloc(sizeof(int) * (numsSize + 1));
    ret->sums[0] = 0;
    for (int i = 0; i < numsSize; i++) {
        ret->sums[i + 1] = ret->sums[i] + nums[i];
    }
    return ret;
}

int numArraySumRange(NumArray* obj, int i, int j) {
    return obj->sums[j + 1] - obj->sums[i];
}

void numArrayFree(NumArray* obj) {
    free(obj->sums);
}
```
```C++ []
class NumArray {
public:
    vector<int> sums;

    NumArray(vector<int>& nums) {
        int n = nums.size();
        sums.resize(n + 1);
        for (int i = 0; i < n; i++) {
            sums[i + 1] = sums[i] + nums[i];
        }
    }

    int sumRange(int i, int j) {
        return sums[j + 1] - sums[i];
    }
};
```
```Golang []
type NumArray struct {
    sums []int
}

func Constructor(nums []int) NumArray {
    sums := make([]int, len(nums)+1)
    for i, v := range nums {
        sums[i+1] = sums[i] + v
    }
    return NumArray{sums}
}

func (na *NumArray) SumRange(i, j int) int {
    return na.sums[j+1] - na.sums[i]
}
```
```Python3 []
class NumArray:

    def __init__(self, nums: List[int]):
        self.sums = [0]
        _sums = self.sums

        for num in nums:
            _sums.append(_sums[-1] + num)

    def sumRange(self, i: int, j: int) -> int:
        _sums = self.sums
        return _sums[j + 1] - _sums[i]
```

---

### è½¬èº«æŒ¥æ‰‹

å˜¿ï¼Œå°‘å¹´ï¼Œåšå›¾ä¸æ˜“ï¼Œç•™ä¸‹ä¸ªèµæˆ–è¯„è®ºå†èµ°å§ï¼è°¢å•¦~ ğŸ’

å·®ç‚¹å¿˜äº†ï¼Œç¥ä½ ç‰›å¹´å¤§å‰ ğŸ® ï¼ŒAC å’Œ Offer ğŸ“‘ å¤šå¤šç›Šå–„~

â›²â›²â›² æœŸå¾…ä¸‹æ¬¡å†è§~ 