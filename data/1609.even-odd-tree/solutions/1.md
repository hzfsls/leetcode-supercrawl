## [1609.å¥‡å¶æ ‘ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/even-odd-tree/solutions/100000/gong-shui-san-xie-yi-ti-shuang-jie-bfs-d-kuyi)

ä½œè€…ï¼š[AC_OIer](https://leetcode.cn/u/AC_OIer)

## å†™åœ¨å‰é¢

ç¥å¤§å®¶åœ£è¯èŠ‚å¿«ä¹ ğŸ„ğŸ„ğŸ„ï¼Œè€ƒç ”çš„åŒå­¦ç»Ÿç»Ÿä¸Šå²¸ ğŸ™ğŸ»ğŸ™ğŸ»ğŸ™ğŸ»

---

## BFS

è€ƒå¯Ÿã€Œå±‚åºéå†ã€ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­éœ€è¦è®°å½•å±‚ä¸‹æ ‡ï¼Œå¹¶æ ¹æ®å±‚ä¸‹æ ‡æ£€æŸ¥è¿›è¡Œã€ŒèŠ‚ç‚¹å€¼çš„å¥‡å¶æ€§ã€å’Œã€Œæ˜¯å¦æ»¡è¶³é€’å¢/é€’å‡ã€ã€‚

é¢å¤–ä½¿ç”¨ä¸€ä¸ªå¸ƒå°”å˜é‡ `flag` è®°å½•å±‚åºæ˜¯å¦ä¸ºå¶æ•°ï¼ˆåˆ¤æ–­èŠ‚ç‚¹å€¼çš„å¥‡å¶æ€§ï¼‰ï¼Œä½¿ç”¨ `prev` è®°å½•å½“å‰å±‚çš„ä¸Šä¸€èŠ‚ç‚¹çš„å€¼ï¼ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³é€’å¢/é€’å‡ï¼‰å³å¯ï¼Œ`prev` èµ·å§‹å€¼å¯æ ¹æ®æ•°æ®èŒƒå›´è®¾ç½®ä¸ºå“¨å…µå€¼ã€‚

ä»£ç ï¼š
```Java []
class Solution {
    public boolean isEvenOddTree(TreeNode root) {
        Deque<TreeNode> d = new ArrayDeque<>();
        boolean flag = true;
        d.addLast(root);
        while (!d.isEmpty()) {
            int size = d.size(), prev = flag ? 0 : 0x3f3f3f3f;
            while (size-- > 0) {
                TreeNode node = d.pollFirst();
                int cur = node.val;
                if (flag && (cur % 2 == 0 || cur <= prev)) return false;
                if (!flag && (cur % 2 != 0 || cur >= prev)) return false;
                prev = cur;
                if (node.left != null) d.addLast(node.left);
                if (node.right != null) d.addLast(node.right);
            }
            flag = !flag;
        }
        return true;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

---

## DFS

åŒæ ·çš„æ€è·¯ï¼Œè‡ªç„¶ä¹Ÿèƒ½å¤Ÿä½¿ç”¨ `DFS` è¿›è¡Œæ±‚è§£ã€‚

ç”±äº `DFS`  æ˜¯æ·±åº¦ä¼˜å…ˆï¼Œå› æ­¤æˆ‘ä»¬åœ¨ `DFS` è¿‡ç¨‹ä¸­é™¤äº†è¦è®°å½•å½“å‰å±‚ç¼–å·ï¼ˆåˆ¤æ–­èŠ‚ç‚¹å€¼çš„å¥‡å¶æ€§ï¼‰ï¼Œè¿˜è¦è®°å½•æ¯å±‚æœ€åä¸Šä¸€æ¬¡éå†åˆ°çš„èŠ‚ç‚¹å€¼ä¸ºå¤šå°‘ï¼ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³é€’å¢/é€’å‡ï¼‰ã€‚

ä»£ç ï¼š
```Java []
class Solution {
    Map<Integer, Integer> map = new HashMap<>();
    public boolean isEvenOddTree(TreeNode root) {
        return dfs(root, 0);
    }
    boolean dfs(TreeNode root, int idx) {
        boolean flag = idx % 2 == 0;
        int prev = map.getOrDefault(idx, flag ? 0 : 0x3f3f3f3f), cur = root.val;
        if (flag && (cur % 2 == 0 || cur <= prev)) return false;
        if (!flag && (cur % 2 != 0 || cur >= prev)) return false;
        map.put(idx, root.val);
        if (root.left != null && !dfs(root.left, idx + 1)) return false;
        if (root.right != null && !dfs(root.right, idx + 1)) return false;
        return true;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~ 