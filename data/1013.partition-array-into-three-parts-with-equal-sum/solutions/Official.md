## [1013.å°†æ•°ç»„åˆ†æˆå’Œç›¸ç­‰çš„ä¸‰ä¸ªéƒ¨åˆ† ä¸­æ–‡å®˜æ–¹é¢˜è§£](https://leetcode.cn/problems/partition-array-into-three-parts-with-equal-sum/solutions/100000/1013-jiang-shu-zu-fen-cheng-he-xiang-deng-de-san-2)

### ðŸ“º è§†é¢‘é¢˜è§£  
![...3. å°†æ•°ç»„åˆ†æˆå’Œç›¸ç­‰çš„ä¸‰ä¸ªéƒ¨åˆ†.mp4](fcc421bb-4f9e-4417-8665-7eb6edf58c3a)

### ðŸ“– æ–‡å­—é¢˜è§£

#### æ–¹æ³•ä¸€ï¼šå¯»æ‰¾åˆ‡åˆ†ç‚¹

æˆ‘ä»¬å°†æ•°ç»„ `A` ä¸­çš„æ‰€æœ‰æ•°çš„å’Œè®°ä¸º `sum(A)`ã€‚æ ¹æ®é¢˜ç›®æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œæ¯ä¸€ä¸ªéžç©ºéƒ¨åˆ†çš„å’Œéƒ½åº”å½“æ˜¯ `sum(A) / 3`ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ç´¢å¼• `i` å’Œ `j` ä½¿å¾—ï¼š

- `A[0] + A[1] + ... + A[i] = sum(A) / 3`;

- `A[i + 1] + A[i + 2] + ... + A[j] = sum(A) / 3`ã€‚è¿™ç­‰ä»·äºŽ `A[0] + A[1] + ... + A[j] = sum(A) / 3 * 2` ä¸” `j > i`ã€‚

é¦–å…ˆæˆ‘ä»¬éœ€è¦æ‰¾å‡ºç´¢å¼• `i`ã€‚å…·ä½“åœ°ï¼Œæˆ‘ä»¬ä»Žç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹éåŽ†æ•°ç»„ `A` å¹¶å¯¹æ•°ç»„ä¸­çš„æ•°è¿›è¡Œç´¯åŠ ã€‚å½“ç´¯åŠ çš„å’Œç­‰äºŽ `sum(A) / 3` æ—¶ï¼Œæˆ‘ä»¬å°±å°†å½“å‰çš„ä½ç½®ç½®ä¸ºç´¢å¼• `i`ã€‚ç”±äºŽæ•°ç»„ä¸­çš„æ•°æœ‰æ­£æœ‰è´Ÿï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¾—åˆ°è‹¥å¹²ä¸ªç´¢å¼• `i0, i1, i2, ...`ï¼Œä»Ž `A[0]` åˆ°è¿™äº›ç´¢å¼•çš„æ•°ä¹‹å’Œå‡ä¸º `sum(A) / 3`ã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é€‰å–é‚£ä¸ªç´¢å¼•å‘¢ï¼Ÿç›´è§‰å‘Šè¯‰æˆ‘ä»¬ï¼Œåº”è¯¥è´ªå¿ƒåœ°é€‰æ‹©æœ€å°çš„é‚£ä¸ªç´¢å¼• `i0`ï¼Œè¿™ä¹Ÿæ˜¯å¯ä»¥è¯æ˜Žçš„ï¼šå‡è®¾æœ€ç»ˆçš„ç­”æ¡ˆä¸­æˆ‘ä»¬é€‰å–äº†æŸä¸ªä¸ä¸º `i0` çš„ç´¢å¼• `ik` ä»¥åŠå¦ä¸€ä¸ªç´¢å¼• `j`ï¼Œé‚£ä¹ˆæ ¹æ®ä¸Šé¢çš„ä¸¤æ¡è¦æ±‚ï¼Œæœ‰ï¼š

- `A[0] + A[1] + ... + A[ik] = sum(A) / 3`;

- `A[0] + A[1] + ... + A[j] = sum(A) / 3 * 2` ä¸” `j > ik`ã€‚

ç„¶è€Œ `i0` ä¹Ÿæ˜¯æ»¡è¶³ç¬¬ä¸€æ¡è¦æ±‚çš„ä¸€ä¸ªç´¢å¼•ï¼Œå› ä¸º `A[0] + A[1] + ... + A[i0] = sum(A) / 3` å¹¶ä¸” `j > ik > i0`ï¼Œæˆ‘ä»¬å¯ä»¥å°† `ik` æ›¿æ¢ä¸º `i0`ï¼Œå› æ­¤é€‰æ‹©æœ€å°çš„é‚£ä¸ªç´¢å¼•æ˜¯åˆç†çš„ã€‚

åœ¨é€‰æ‹©äº† `i0` ä½œä¸º `i` ä¹‹åŽï¼Œæˆ‘ä»¬ä»Ž `i0 + 1` å¼€å§‹ç»§ç»­éåŽ†æ•°ç»„ `A` å¹¶è¿›è¡Œç´¯åŠ ï¼Œå½“ç´¯åŠ çš„å’Œç­‰äºŽ `sum(A) / 3 * 2` æ—¶ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ç´¢å¼• `j`ï¼Œå¯ä»¥è¿”å›ž `true` ä½œä¸ºç­”æ¡ˆã€‚å¦‚æžœæˆ‘ä»¬æ— æ³•æ‰¾åˆ°ç´¢å¼• `i` æˆ–ç´¢å¼• `j`ï¼Œæˆ–è€… `sum(A)` æœ¬èº«æ— æ³•è¢« `3` æ•´æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿”å›ž `false`ã€‚

```Python [sol1-Python3]
class Solution:
    def canThreePartsEqualSum(self, A: List[int]) -> bool:
        s = sum(A)
        if s % 3 != 0:
            return False
        target = s // 3
        n, i, cur = len(A), 0, 0
        while i < n:
            cur += A[i]
            if cur == target:
                break
            i += 1
        if cur != target:
            return False
        j = i + 1
        while j + 1 < n:  # éœ€è¦æ»¡è¶³æœ€åŽä¸€ä¸ªæ•°ç»„éžç©º
            cur += A[j]
            if cur == target * 2:
                return True
            j += 1
        return False
```

```C++ [sol1-C++]
class Solution {
public:
    bool canThreePartsEqualSum(vector<int>& A) {
        int s = accumulate(A.begin(), A.end(), 0);
        if (s % 3 != 0) {
            return false;
        }
        int target = s / 3;
        int n = A.size(), i = 0, cur = 0;
        while (i < n) {
            cur += A[i];
            if (cur == target) {
                break;
            }
            ++i;
        }
        if (cur != target) {
            return false;
        }
        int j = i + 1;
        while (j + 1 < n) {  // éœ€è¦æ»¡è¶³æœ€åŽä¸€ä¸ªæ•°ç»„éžç©º
            cur += A[j];
            if (cur == target * 2) {
                return true;
            }
            ++j;
        }
        return false;
    }
};
```

```Java [sol1-Java]
class Solution {
    public boolean canThreePartsEqualSum(int[] A) {
        int s = 0;
        for (int num : A) {
            s += num;
        }
        if (s % 3 != 0) {
            return false;
        }
        int target = s / 3;
        int n = A.length, i = 0, cur = 0;
        while (i < n) {
            cur += A[i];
            if (cur == target) {
                break;
            }
            ++i;
        }
        if (cur != target) {
            return false;
        }
        int j = i + 1;
        while (j + 1 < n) {  // éœ€è¦æ»¡è¶³æœ€åŽä¸€ä¸ªæ•°ç»„éžç©º
            cur += A[j];
            if (cur == target * 2) {
                return true;
            }
            ++j;
        }
        return false;
    }
}
```

**å¤æ‚åº¦åˆ†æž**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œå…¶ä¸­ $N$ æ˜¯æ•°ç»„ `A` çš„é•¿åº¦ã€‚æˆ‘ä»¬æœ€å¤šåªéœ€è¦éåŽ†ä¸€éæ•°ç»„å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨é¢å¤–çš„ç´¢å¼•å˜é‡ `i`ï¼Œ`j` ä»¥åŠä¸€äº›å­˜å‚¨æ•°ç»„ä¿¡æ¯çš„å˜é‡ã€‚