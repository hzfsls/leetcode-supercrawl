## [529.æ‰«é›·æ¸¸æˆ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/minesweeper/solutions/100000/cong-qi-dian-kai-shi-dfs-bfs-bian-li-yi-bian-ji-ke)

ä½œè€…ï¼š[sweetiee](https://leetcode.cn/u/sweetiee)

ğŸ™‹ ä»Šæ—¥æ‰“å¡ï¼
### ä¸€ã€é¢˜ç›®åˆ†æ

ç»™å®šåˆå§‹äºŒç»´æ•°ç»„å’Œèµ·ç‚¹ï¼Œè¿”å›ä¿®æ”¹åçš„äºŒç»´æ•°ç»„ã€‚
* è‹¥èµ·ç‚¹å¤„æ˜¯é›·ï¼Œå³ â€˜Mâ€™ï¼Œç›´æ¥å°†å…¶ä¿®æ”¹ä¸º 'X'ï¼Œæ¸¸æˆç»“æŸï¼›
* è‹¥èµ·ç‚¹å¤„æ˜¯ç©ºï¼Œå³ â€˜Eâ€™ï¼Œåˆ™ä»èµ·ç‚¹å¼€å§‹å‘ 8 é‚»åŸŸä¸­çš„ç©ºåœ°æœç´¢ï¼Œç›´åˆ°åˆ°è¾¾é‚»æ¥ğŸ’¥çš„ç©ºåœ°åœæ­¢ã€‚
    - å’ŒäºŒå‰æ ‘ä»æ ¹ç»“ç‚¹å¼€å§‹æœç´¢ï¼Œç›´åˆ°è¾¾åˆ°å¶å­èŠ‚ç‚¹åœæ­¢ï¼Œæ˜¯å‡ ä¹ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¼šå†™äºŒå‰æ ‘çš„ BFS/DFSï¼Œé‚£ä¹ˆè¿™é¢˜ä¹Ÿå°±å†™å‡ºæ¥äº†ã€‚


### äºŒã€ä»£ç å®ç°

##### DFS ä»£ç 
``` Java
class Solution {
    // å®šä¹‰ 8 ä¸ªæ–¹å‘
    int[] dx = {-1, 1, 0, 0, -1, 1, -1, 1};
    int[] dy = {0, 0, -1, 1, -1, 1, 1, -1};

    public char[][] updateBoard(char[][] board, int[] click) {
        int x = click[0], y = click[1];
        // 1. è‹¥èµ·ç‚¹æ˜¯é›·ï¼Œæ¸¸æˆç»“æŸï¼Œç›´æ¥ä¿®æ”¹ board å¹¶è¿”å›ã€‚
        if (board[x][y] == 'M') {
            board[x][y] = 'X';
        } else { // 2. è‹¥èµ·ç‚¹æ˜¯ç©ºåœ°ï¼Œåˆ™ä»èµ·ç‚¹å¼€å§‹å‘ 8 é‚»åŸŸçš„ç©ºåœ°è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚
            dfs(board, x, y);
        }
        return board;
    }

    private void dfs(char[][] board, int i, int j) {
        // é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šåˆ¤æ–­ç©ºåœ° (i, j) å‘¨å›´æ˜¯å¦æœ‰é›·ï¼Œè‹¥æœ‰ï¼Œåˆ™å°†è¯¥ä½ç½®ä¿®æ”¹ä¸ºé›·æ•°ï¼Œç»ˆæ­¢è¯¥è·¯å¾„çš„æœç´¢ã€‚
        int cnt = 0;
        for (int k = 0; k < 8; k++) {
            int x = i + dx[k];
            int y = j + dy[k];
            if (x < 0 || x >= board.length || y < 0 || y >= board[0].length) {
                continue;
            }
            if (board[x][y] == 'M') {
                cnt++;
            }
        }
        if (cnt > 0) {
            board[i][j] =  (char)(cnt + '0');
            return;
        } 

        // è‹¥ç©ºåœ° (i, j) å‘¨å›´æ²¡æœ‰é›·ï¼Œåˆ™å°†è¯¥ä½ç½®ä¿®æ”¹ä¸º â€˜Bâ€™ï¼Œå‘ 8 é‚»åŸŸçš„ç©ºåœ°ç»§ç»­æœç´¢ã€‚
        board[i][j] = 'B';
        for (int k = 0; k < 8; k++) {
            int x = i + dx[k];
            int y = j + dy[k];
            if (x < 0 || x >= board.length || y < 0 || y >= board[0].length || board[x][y] != 'E') {
                continue;
            }
            dfs(board, x, y);
        }  
    }
}
```

##### BFS ä»£ç 
è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä¸æ ‘çš„ BFS ä¸ä¸€æ ·ï¼ˆæ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªçˆ¶äº²èŠ‚ç‚¹ï¼‰ï¼Œæœ¬é¢˜å›¾ä¸­çš„ç‚¹ä¼šç”±å¤šä¸ªç‚¹è¾¾åˆ°ï¼Œå› æ­¤éœ€è¦åŠ ä¸Š boolean[][] visited æ•°ç»„è®°å½•è®¿é—®æ ‡å¿—ï¼Œé˜²æ­¢æ¯ä¸ªç‚¹é‡å¤å…¥é˜Ÿè€Œè¶…æ—¶ã€‚
``` Java
class Solution {
    // å®šä¹‰ 8 ä¸ªæ–¹å‘
    int[] dx = {-1, 1, 0, 0, -1, 1, -1, 1};
    int[] dy = {0, 0, -1, 1, -1, 1, 1, -1};

    public char[][] updateBoard(char[][] board, int[] click) {
        // 1. è‹¥èµ·ç‚¹æ˜¯é›·ï¼Œæ¸¸æˆç»“æŸï¼Œç›´æ¥ä¿®æ”¹ board å¹¶è¿”å›ã€‚
        int x = click[0], y = click[1];
        if (board[x][y] == 'M') {
            board[x][y] = 'X';
            return board;
        } 

        // 2. è‹¥èµ·ç‚¹æ˜¯ç©ºåœ°ï¼Œåˆ™å°†èµ·ç‚¹å…¥é˜Ÿï¼Œä»èµ·ç‚¹å¼€å§‹å‘ 8 é‚»åŸŸçš„ç©ºåœ°è¿›è¡Œå®½åº¦ä¼˜å…ˆæœç´¢ã€‚
        int m = board.length, n = board[0].length;
        boolean[][] visited = new boolean[m][n];
        visited[x][y] = true;
        Queue<int[]> queue = new LinkedList<>();
        queue.offer(new int[] {x, y});
        while (!queue.isEmpty()) {
            int[] point = queue.poll();
            int i = point[0], j = point[1];
            // åˆ¤æ–­ç©ºåœ° (i, j) å‘¨å›´æ˜¯å¦æœ‰é›·
            int cnt = 0;
            for (int k = 0; k < 8; k++) {
                int newX = i + dx[k];
                int newY = j + dy[k];
                if (newX < 0 || newX >= board.length || newY < 0 || newY >= board[0].length) {
                    continue;
                }
                if (board[newX][newY] == 'M') {
                    cnt++;
                }
            }
            // è‹¥ç©ºåœ° (i, j) å‘¨å›´æœ‰é›·ï¼Œåˆ™å°†è¯¥ä½ç½®ä¿®æ”¹ä¸ºé›·æ•°ï¼›å¦åˆ™å°†è¯¥ä½ç½®æ›´æ–°ä¸º â€˜Bâ€™ï¼Œå¹¶å°†å…¶ 8 é‚»åŸŸä¸­çš„ç©ºåœ°å…¥é˜Ÿï¼Œç»§ç»­è¿›è¡Œ bfs æœç´¢ã€‚
            if (cnt > 0) {
                board[i][j] = (char)(cnt + '0');
            } else {
                board[i][j] = 'B';
                for (int k = 0; k < 8; k++) {
                    int newX = i + dx[k];
                    int newY = j + dy[k];
                    if (newX < 0 || newX >= board.length || newY < 0 || newY >= board[0].length 
                        || board[newX][newY] != 'E' || visited[newX][newY]) {
                        continue;
                    }
                    visited[newX][newY] = true;
                    queue.offer(new int[] {newX, newY});
                }
            }
        }
        return board;
    }
}
```