## [1599.ç»è¥æ‘©å¤©è½®çš„æœ€å¤§åˆ©æ¶¦ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/maximum-profit-of-operating-a-centennial-wheel/solutions/100000/python3javacgo-yi-ti-yi-jie-mo-ni-by-lcb-6kz7)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)



**æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ**

æˆ‘ä»¬ç›´æŽ¥æ¨¡æ‹Ÿæ‘©å¤©è½®çš„è½®è½¬è¿‡ç¨‹ï¼Œæ¯æ¬¡è½®è½¬æ—¶ï¼Œç´¯åŠ ç­‰å¾…çš„æ¸¸å®¢ä»¥åŠæ–°åˆ°è¾¾çš„æ¸¸å®¢ï¼Œç„¶åŽæœ€å¤š $4$ ä¸ªäººä¸Šèˆ¹ï¼Œæ›´æ–°ç­‰å¾…çš„æ¸¸å®¢æ•°å’Œåˆ©æ¶¦ï¼Œè®°å½•æœ€å¤§åˆ©æ¶¦ä¸Žå…¶å¯¹åº”çš„è½®è½¬æ¬¡æ•°ã€‚


```python [sol1-Python3]
class Solution:
    def minOperationsMaxProfit(self, customers: List[int], boardingCost: int, runningCost: int) -> int:
        ans = -1
        mx = t = 0
        wait = 0
        i = 0
        while wait or i < len(customers):
            wait += customers[i] if i < len(customers) else 0
            up = wait if wait < 4 else 4
            wait -= up
            t += up * boardingCost - runningCost
            i += 1
            if t > mx:
                mx = t
                ans = i
        return ans
```



```java [sol1-Java]
class Solution {
    public int minOperationsMaxProfit(int[] customers, int boardingCost, int runningCost) {
        int ans = -1;
        int mx = 0, t = 0;
        int wait = 0, i = 0;
        while (wait > 0 || i < customers.length) {
            wait += i < customers.length ? customers[i] : 0;
            int up = Math.min(4, wait);
            wait -= up;
            ++i;
            t += up * boardingCost - runningCost;
            if (t > mx) {
                mx = t;
                ans = i;
            }
        }
        return ans;
    }
}
```



```cpp [sol1-C++]
class Solution {
public:
    int minOperationsMaxProfit(vector<int>& customers, int boardingCost, int runningCost) {
        int ans = -1;
        int mx = 0, t = 0;
        int wait = 0, i = 0;
        while (wait || i < customers.size()) {
            wait += i < customers.size() ? customers[i] : 0;
            int up = min(4, wait);
            wait -= up;
            ++i;
            t += up * boardingCost - runningCost;
            if (t > mx) {
                t = mx;
                ans = i;
            }
        }
        return ans;
    }
};
```


```go [sol1-Go]
func minOperationsMaxProfit(customers []int, boardingCost int, runningCost int) int {
	ans := -1
	t, mx := 0, 0
	wait, i := 0, 0
	for wait > 0 || i < len(customers) {
		if i < len(customers) {
			wait += customers[i]
		}
		up := min(4, wait)
		wait -= up
		t += up*boardingCost - runningCost
		i++
		if t > mx {
			mx = t
			ans = i
		}
	}
	return ans
}

func min(a, b int) int {
	if a < b {
		return a
	}
	return b
}
```

æ—¶é—´å¤æ‚åº¦ $O(\frac{S}{4})$ï¼Œå…¶ä¸­ $S$ ä¸ºæ•°ç»„ `customers` çš„å…ƒç´ å’Œï¼Œå³æ¸¸å®¢æ€»æ•°ã€‚ç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚

---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿Žè¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿Žè¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµžæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆðŸ˜„~