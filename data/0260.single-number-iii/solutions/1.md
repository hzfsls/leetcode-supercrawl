## [260.只出现一次的数字 III 中文热门题解1](https://leetcode.cn/problems/single-number-iii/solutions/100000/cai-yong-fen-zhi-de-si-xiang-jiang-wen-ti-jiang-we)

作者：[w1sl1y](https://leetcode.cn/u/w1sl1y)

#### 解题思路
**第一步：**
把所有的元素进行异或操作，最终得到一个异或值。因为是不同的两个数字，所以这个值必定不为 0；
```
       int xor = 0;
        for (int num : nums) {
            xor ^= num;
        } 
```
__第二步：__
取异或值最后一个二进制位为 1 的数字作为 mask，如果是 1 则表示两个数字在这一位上不同。
```
  int mask = xor & (-xor);
```
__第三步：__
通过与这个 mask 进行与操作，如果为 0 的分为一个数组，为 1 的分为另一个数组。这样就把问题降低成了：“有一个数组每个数字都出现两次，有一个数字只出现了一次，求出该数字”。对这两个子问题分别进行全异或就可以得到两个解。也就是最终的数组了。
```
        int[] ans = new int[2];
        for (int num : nums) {
            if ( (num & mask) == 0) {
                ans[0] ^= num;
            } else {
                ans[1] ^= num;
            }
        }
```
__复杂度分析：__
时间复杂度 $O(N)$，空间复杂度 $O(1)$