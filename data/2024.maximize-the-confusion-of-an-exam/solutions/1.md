## [2024.è€ƒè¯•çš„æœ€å¤§å›°æ‰°åº¦ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/maximize-the-confusion-of-an-exam/solutions/100000/by-ac_oier-2rii)

ä½œè€…ï¼š[AC_OIer](https://leetcode.cn/u/AC_OIer)

## æ»‘åŠ¨çª—å£

é¢˜ç›®æ±‚ä¿®æ”¹æ¬¡æ•°ä¸è¶…è¿‡ $k$ çš„å‰æä¸‹ï¼Œè¿ç»­æ®µ `'T'` æˆ– `'F'` çš„æœ€å¤§é•¿åº¦ã€‚

ç­‰ä»·äºæ±‚ä¸€ä¸ªåŒ…å« `'F'` æˆ–è€… `'T'` çš„ä¸ªæ•°ä¸è¶…è¿‡ $k$ çš„æœ€å¤§é•¿åº¦çª—å£ã€‚

å‡å®šå­˜åœ¨ä¸€ä¸ª `int getCnt(char c)` å‡½æ•°ï¼Œè¿”å›åŒ…å«å­—ç¬¦ `c` æ•°é‡ä¸è¶…è¿‡ $k$ çš„æœ€å¤§çª—å£é•¿åº¦ï¼Œé‚£ä¹ˆæœ€ç»ˆ `max(getCnt('T'), getCnt('F'))` å³æ˜¯ç­”æ¡ˆã€‚

å…¶ä¸­ `getCnt` å‡½æ•°çš„å®ç°å¯ä»¥ä½¿ç”¨ã€Œæ»‘åŠ¨çª—å£ã€ï¼šä½¿ç”¨ $j$ å’Œ $i$ åˆ†åˆ«ä»£è¡¨çª—å£çš„å·¦å³ç«¯ç‚¹ï¼Œ$cnt$ ä¸ºåŒºé—´ $[j, i]$ ä¸­çš„å­—ç¬¦ `c` çš„æ•°é‡ï¼Œæ¯æ¬¡å³ç«¯ç‚¹ $i$ ç§»åŠ¨æ—¶ï¼Œè‹¥æ»¡è¶³ $s[i] = c$ï¼Œè®© $cnt$ è‡ªå¢ï¼Œå½“ $cnt > k$ æ—¶ï¼Œä½¿å·¦ç«¯ç‚¹ $j$ å¾€å³ç§»åŠ¨ï¼ŒåŒæ—¶è®© $cnt$ è‡ªå‡ï¼Œç›´åˆ° $[j, i]$ åŒºé—´æ¢å¤åˆæ³•æ€§ï¼ˆåŒ…å«å­—ç¬¦ `c` çš„æ•°é‡ $cnt$ ä¸è¶…è¿‡ $k$ ä¸ªï¼‰ã€‚

ä»£ç ï¼š
```Java []
class Solution {
    String s;
    int n, k;
    public int maxConsecutiveAnswers(String answerKey, int _k) {
        s = answerKey;
        n = s.length(); k = _k;
        return Math.max(getCnt('T'), getCnt('F'));
    }
    int getCnt(char c) {
        int ans = 0;
        for (int i = 0, j = 0, cnt = 0; i < n; i++) {
            if (s.charAt(i) == c) cnt++;
            while (cnt > k) {
                if (s.charAt(j) == c) cnt--;
                j++;
            }
            ans = Math.max(ans, i - j + 1);
        }
        return ans;
    }
}
```
```Python3 []
class Solution:
    def maxConsecutiveAnswers(self, s: str, k: int) -> int:
        def get_cnt(ch):
            n, ans = len(s), 0
            i, j, cnt = 0, 0, 0
            while i < n:
                cnt += s[i] == ch
                while cnt > k:
                    cnt -= s[j] == ch
                    j += 1
                ans = max(ans, i - j + 1)
                i += 1
            return ans
        return max(get_cnt('T'), get_cnt('F'))
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

## åŒç±»å‹åŠ é¤

**ä»Šæ—¥ä»½åŠ é¤ï¼š[ã€é¢è¯•é«˜é¢‘ç³»åˆ—ã€‘å¯é€å±‚é€’è¿›çš„ç»å…¸é¢˜ï¼Œä»¥åŠå¦‚ä½•æ ¹æ®ã€Œæ•°æ®èŒƒå›´ã€è°ƒæ•´ä½¿ç”¨ä½•ç§ç®—æ³•](https%3A//mp.weixin.qq.com/s?__biz%3DMzU4NDE3MTEyMA%3D%3D%26mid%3D2247486241%26idx%3D1%26sn%3D609ca05e6e21a72023172b52d0af0a75) ğŸ‰ğŸ‰**

æˆ–æ˜¯åŠ é¤å¦‚ä¸‹ã€Œæ»‘åŠ¨çª—å£ã€è¿ç”¨é¢˜ ğŸ­ğŸ­ğŸ­

| é¢˜ç›®                                                                                                         | é¢˜è§£                                                                                                                                                                      | éš¾åº¦ | æ¨èæŒ‡æ•°   |
| ------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---- | ---------- |
| [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² ](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/shua-chuan-lc-shuang-zhi-zhen-ha-xi-biao-q08m/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²](https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/solution/shua-chuan-lc-po-su-ha-xi-biao-jie-fa-hu-ml3x/) | å›°éš¾ | ğŸ¤©ğŸ¤© |
| [187. é‡å¤çš„DNAåºåˆ—](https://leetcode-cn.com/problems/repeated-dna-sequences/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/repeated-dna-sequences/solution/gong-shui-san-xie-yi-ti-shuang-jie-hua-d-30pg/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [480. æ»‘åŠ¨çª—å£ä¸­ä½æ•°](https://leetcode-cn.com/problems/sliding-window-median/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/sliding-window-median/solution/xiang-jie-po-su-jie-fa-you-xian-dui-lie-mo397/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [643. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I](https://leetcode-cn.com/problems/maximum-average-subarray-i/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-average-subarray-i/solution/hua-dong-chuang-kou-luo-ti-han-mo-ban-by-buo3/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [1423. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°](https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/solution/jian-dan-de-hua-dong-chuang-kou-he-kuai-1go5h/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [1610. å¯è§ç‚¹çš„æœ€å¤§æ•°ç›®](https://leetcode-cn.com/problems/maximum-number-of-visible-points/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-number-of-visible-points/solution/gong-shui-san-xie-qiu-ji-jiao-ji-he-ti-b-0bid/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [1984. å­¦ç”Ÿåˆ†æ•°çš„æœ€å°å·®å€¼](https://leetcode-cn.com/problems/minimum-difference-between-highest-and-lowest-of-k-scores/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/minimum-difference-between-highest-and-lowest-of-k-scores/solution/gong-shui-san-xie-pai-xu-hua-dong-chuang-ru6e/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |

**æ³¨ï¼šä»¥ä¸Šç›®å½•æ•´ç†æ¥è‡ª [wiki](https://github.com/SharingSource/LogicStack-LeetCode/wiki/æ»‘åŠ¨çª—å£)ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½å¼•ç”¨è¯·ä¿ç•™å‡ºå¤„ã€‚**

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~