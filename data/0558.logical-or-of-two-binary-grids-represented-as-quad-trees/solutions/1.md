## [558.å››å‰æ ‘äº¤é›† ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/logical-or-of-two-binary-grids-represented-as-quad-trees/solutions/100000/by-ac_oier-2ri3)

ä½œè€…ï¼š[AC_OIer](https://leetcode.cn/u/AC_OIer)

## é€’å½’

ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä»¤ `quadTree1` ä¸º `t1`ï¼Œä»¤ `quadTree2` ä¸º `t2`ã€‚

æ ¹æ®é¢˜æ„ï¼Œå¹¶åˆ©ç”¨ç»™å®šå‡½æ•°ä½œä¸ºé€’å½’å‡½æ•°ï¼Œå½“ `t1` å’Œ `t2` å‡ä¸ºå¶å­èŠ‚ç‚¹æ•°æ—¶ï¼Œæ‰§è¡Œã€Œæˆ–é€»è¾‘ã€ï¼Œå³è‹¥ `t1` å’Œ `t2` ä»»ä¸€å€¼ä¸º $1$ æ—¶ï¼Œè¿”å›è¯¥èŠ‚ç‚¹ï¼Œå¦åˆ™ï¼ˆä¸¤è€…å‡ä¸º $0$ï¼‰ï¼Œè¿”å›ä»»ä¸€èŠ‚ç‚¹ã€‚

ç„¶åè€ƒè™‘å…¶ä»–æƒ…å†µä¸‹ï¼Œå¦‚ä½•ä½¿ç”¨ `t1` å’Œ `t2` æ„é€ æ–°èŠ‚ç‚¹ `ans`ï¼Œåˆ†åˆ«ä½¿ç”¨å¯¹åº”ä½ç½®çš„è¿›è¡Œã€Œé€’å½’ã€æ„é€ å³å¯ï¼ˆå³ä½¿ç”¨ `t1.topLeft` å’Œ `t2.topLeft` æ¥èµ‹å€¼ç»™ `ans.topLeft`ï¼Œå…¶ä½™ä½ç½®åŒç†ï¼‰ï¼Œè¦æ³¨æ„å¯èƒ½å­˜åœ¨ `t1` æˆ– `t2` å…¶ä¸­ä¸€èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹çš„æƒ…å†µï¼Œæ­¤æ—¶åº”å½“ä½¿ç”¨å½“å‰å¶å­èŠ‚ç‚¹å’Œå¦ä¸€èŠ‚ç‚¹çš„å­èŠ‚ç‚¹è¿›è¡Œæ„é€ ã€‚

æœ€åè€ƒè™‘ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä¼šäº§ç”Ÿæ–°çš„å¶å­èŠ‚ç‚¹ï¼šè‹¥å½“å‰èŠ‚ç‚¹ `ans` çš„å››ä¸ªå­èŠ‚ç‚¹å‡ä¸ºå¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”å€¼ç›¸åŒæ—¶ï¼Œ`ans` ä¼šæˆä¸ºå¶å­èŠ‚ç‚¹ï¼Œ`ans` å€¼ä¸ºå¶å­èŠ‚ç‚¹çš„å€¼ï¼Œæ­¤æ—¶éœ€è¦æ‰§è¡Œçš„æ“ä½œä¸ºå°† `isLeaf` è®¾å®šä¸º `True`ï¼Œä¿®æ”¹ `val` ä¸ºåŸå­èŠ‚ç‚¹çš„å€¼ï¼Œå°†å››ä¸ªåŸå­èŠ‚ç‚¹ç½®ç©ºã€‚

ä»£ç ï¼š
```Java []
class Solution {
    public Node intersect(Node t1, Node t2) {
        if (t1.isLeaf && t2.isLeaf) {
            if (t1.val) return t1;
            else if (t2.val) return t2;
            else return t1;
        }
        Node ans = new Node();
        ans.topLeft = intersect(t1.isLeaf ? t1 : t1.topLeft, t2.isLeaf ? t2 : t2.topLeft);
        ans.topRight = intersect(t1.isLeaf ? t1 : t1.topRight, t2.isLeaf ? t2 : t2.topRight);
        ans.bottomLeft = intersect(t1.isLeaf ? t1 : t1.bottomLeft, t2.isLeaf ? t2 : t2.bottomLeft);
        ans.bottomRight = intersect(t1.isLeaf ? t1 : t1.bottomRight, t2.isLeaf ? t2 : t2.bottomRight);
        boolean a = ans.topLeft.isLeaf && ans.topRight.isLeaf && ans.bottomLeft.isLeaf && ans.bottomRight.isLeaf;
        boolean b = ans.topLeft.val && ans.topRight.val && ans.bottomLeft.val && ans.bottomRight.val;
        boolean c = ans.topLeft.val || ans.topRight.val || ans.bottomLeft.val || ans.bottomRight.val;
        ans.isLeaf = a && (b || !c);
        ans.val = ans.topLeft.val;
        if (ans.isLeaf) ans.topLeft = ans.topRight = ans.bottomLeft = ans.bottomRight = null;
        return ans;
    }
}
```
```TypeScript []
function intersect(t1: Node | null, t2: Node | null): Node | null {
    if (t1.isLeaf && t2.isLeaf) {
        if (t1.val) return t1
        else if (t2.val) return t2
        else return t1
    }
    const ans: Node = new Node()
    ans.topLeft = intersect(t1.isLeaf ? t1 : t1.topLeft, t2.isLeaf ? t2 : t2.topLeft)
    ans.topRight = intersect(t1.isLeaf ? t1 : t1.topRight, t2.isLeaf ? t2 : t2.topRight)
    ans.bottomLeft = intersect(t1.isLeaf ? t1 : t1.bottomLeft, t2.isLeaf ? t2 : t2.bottomLeft)
    ans.bottomRight = intersect(t1.isLeaf ? t1 : t1.bottomRight, t2.isLeaf ? t2 : t2.bottomRight)
    const a: boolean = ans.topLeft.isLeaf && ans.topRight.isLeaf && ans.bottomLeft.isLeaf && ans.bottomRight.isLeaf
    const b: boolean = ans.topLeft.val && ans.topRight.val && ans.bottomLeft.val && ans.bottomRight.val
    const c: boolean = ans.topLeft.val || ans.topRight.val || ans.bottomLeft.val || ans.bottomRight.val
    ans.isLeaf = a && (b || !c)
    ans.val = ans.topLeft.val
    if (ans.isLeaf) ans.topLeft = ans.topRight = ans.bottomLeft = ans.bottomRight = null
    return ans
};
```
* æ—¶é—´å¤æ‚åº¦ï¼šå¤æ‚åº¦ä¸æœ€ç»ˆçŸ©é˜µå¤§å°ç›¸å…³ï¼Œè€Œæœ€ç»ˆçŸ©é˜µå¤§å°ä¸ä¼šè¶…è¿‡åŸçŸ©é˜µå¤§å°ï¼Œå¤æ‚åº¦ä¸º $O(n^2)$
* ç©ºé—´å¤æ‚åº¦ï¼šå¿½ç•¥é€’å½’å¸¦æ¥çš„é¢å¤–ç©ºé—´å¼€é”€ï¼Œå¤æ‚åº¦ä¸º $O(1)$

---

## åŠ é¤

**å¦å¤–ä¸€é“ä¹Ÿæ˜¯ã€Œå››å‰æ ‘ã€ç›¸å…³çš„é€’å½’è¿ç”¨é¢˜ : [ã€ç»¼åˆç¬”è¯•é¢˜ã€‘éš¾åº¦ 2/5ï¼Œé€’å½’è¿ç”¨åŠå‰ç¼€å’Œä¼˜åŒ–](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247492391&idx=1&sn=bf2b27842d461bba6766b1ca2b426eff) ğŸ‰ğŸ‰**

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~