## [1679.K å’Œæ•°å¯¹çš„æœ€å¤§æ•°ç›® ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/max-number-of-k-sum-pairs/solutions/100000/xiang-xi-zhu-shi-si-lu-dian-ge-zan-ge-by-alk2)

ä½œè€…ï¼š[Ethan-JX](https://leetcode.cn/u/Ethan-JX)
>**ä»£ç ä¸­éƒ½åŒ…å«äº†è¯¦ç»†çš„æ³¨é‡Šï¼Œç»“åˆæ€è·¯ä¸€èµ·çœ‹ï¼Œæ›´å®¹æ˜“çœ‹æ‡‚ï¼**
# æ–¹æ³•ä¸€ï¼šæ’åºåŒæŒ‡é’ˆæ³•

1. å°†æ•°æ®æ’åºï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘æ•°ç»„çš„å¤´å°¾ï¼›
2. å°†ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ•°æ±‚å’Œï¼›
    1. è‹¥å’Œå¤§äºç›®æ ‡ï¼Œåˆ™è¯´æ˜å¤ªå¤§äº†ï¼Œéœ€è¦å³æŒ‡é’ˆå·¦ç§»ï¼ˆå¯ä»¥ä½¿å’Œå˜å°ï¼‰ï¼›
    2. è‹¥å’Œå°äºç›®æ ‡ï¼Œåˆ™è¯´æ˜å¤ªå°äº†ï¼Œéœ€è¦å·¦æŒ‡é’ˆå³ç§»ï¼ˆå¯ä»¥ä½¿å’Œå˜å¤§ï¼‰ï¼›
    3. è‹¥å’Œç­‰äºç›®æ ‡ï¼Œåˆ™ä¸¤ä¸ªæŒ‡é’ˆéƒ½å¾€ä¸­é—´ç§»åŠ¨ï¼Œç»“æœ+1ã€‚
3. å¾ªç¯2æ­¥éª¤ç›´è‡³å·¦æŒ‡é’ˆä¸åœ¨å³æŒ‡é’ˆçš„å·¦è¾¹ã€‚

### ä»£ç 
```java []
class Solution {
    public int maxOperations(int[] nums, int k) {
        int result = 0;
        //æ’åº
        Arrays.sort(nums);
        //å¤´å°¾æŒ‡é’ˆ
        int i = 0, j = nums.length - 1;
        while (i < j) {
            int sum = nums[i] + nums[j];
            if (k == sum) {//åˆšå¥½ç›¸ç­‰ã€‚ä¸¤ä¸ªæŒ‡é’ˆéƒ½å¾€ä¸­é—´ç§»åŠ¨
                result++;
                i++;
                j--;
            } else if (k > sum) {//ä¸¤æ•°ä¹‹å’Œå¤ªå°ï¼Œå·¦æŒ‡é’ˆå³ç§»ï¼Œè®©å’Œå˜å¤§
                i++;
            } else {//ä¸¤æ•°ä¹‹å’Œå¤ªå¤§ï¼Œå³æŒ‡é’ˆå·¦ç§»ï¼Œè®©å’Œå˜å°
                j--;
            }
        }
        return result;
    }
}
```
æ—¶é—´å¤æ‚åº¦O(nlogn + n),ç©ºé—´å¤æ‚åº¦O(1)ã€‚
**åŒç™¾æˆªå›¾**
![image.png](https://pic.leetcode-cn.com/1607336103-GmMLzZ-image.png)


------
------


# æ–¹æ³•äºŒï¼šä¸¤éå¾ªç¯hashæ³•
ä¸¤éå¾ªç¯ï¼Œæ€è·¯æ¸…æ™°æ˜“æ‡‚ã€‚

1. å…ˆé€šè¿‡ä¸€ä¸ªMapå­˜å‚¨æ•°æ®å‡ºç°çš„æ¬¡æ•°ã€‚
2. é€šè¿‡åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸ä¹‹ç›¸åŠ è¾¾åˆ°Kçš„æ•°æ®ã€‚
3. ç»Ÿè®¡ç»“æœ
### ä»£ç 

```java []
class Solution {
    public int maxOperations(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap<>(nums.length);
        //ç»Ÿè®¡æ¯ä¸ªæ•°æ®å‡ºç°çš„æ¬¡æ•°ï¼Œkeyä¸ºæ•°æ®ï¼Œvalueä¸ºæ¬¡æ•°
        for (int num : nums) {
            Integer i = map.getOrDefault(num, 0);
            map.put(num, i + 1);
        }
        int result = 0;
        for (int num : nums) {
            // æ±‚å’Œè¾¾åˆ°Kçš„æ•°æ®
            int x = k - num;
            // ä»mapè·å–x
            int i = map.get(num);
            //å¦‚æœæ¬¡æ•°å°äºç­‰äº0ï¼Œè¯´æ˜æ•°æ®è¢«ä½¿ç”¨è¿‡äº†ã€å°±ç®—åé¢éå†åˆ°ä»–ï¼Œä¹Ÿå¯ä»¥è·³è¿‡äº†ã€‘
            if (i <= 0) {
                continue;
            }
            //ç»Ÿè®¡æ•°é‡å‡ä¸€ï¼Œå…ˆå‡å»ï¼Œé˜²æ­¢ä¸¤ä¸ªç›¸åŒçš„æ•°æ®ç›¸åŠ è¾¾åˆ°Kï¼Œè€Œåªæœ‰ä¸€ä¸ªæ•°æ®
            //ã€æœ‰ä¸ªå¤§å…„å¼Ÿæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆç›´æ¥åˆ äº†ã€‚è¡¥å……ä¸€ä¸‹ï¼šå› ä¸ºæ˜¯ä¸¤éå¾ªç¯ï¼Œç¬¬ä¸€æ¬¡å°±ç»Ÿè®¡è¿‡æ‰€æœ‰çš„æ•°æ®äº†ï¼Œå¦‚æœåé¢çš„ifæ— æ³•è¿›å…¥ï¼Œé‚£ä¹ˆä¹‹åä¹Ÿä¸å¯èƒ½äº†ï¼Œåˆ äº†å°±åˆ äº†ï¼Œæ— æ‰€è°“äº†ã€‚ã€‘
            map.put(num, i - 1);
            // æ˜¯å¦æœ‰ å¦ä¸€ä¸ªæ•°æ®ã€‚ä¸”ç»Ÿè®¡çš„æ•°é‡å¤§äº0
            if (map.containsKey(x) && map.get(x) > 0) {
                result++;//ç»“æœ+1
                map.put(x, map.get(x) - 1);// æ•°é‡å‡ä¸€
            }
        }
        return result;
    }
}
```
æ—¶é—´å¤æ‚åº¦O(n),ç©ºé—´å¤æ‚åº¦O(n)ã€‚



------
------


# æ–¹æ³•ä¸‰ï¼šä¸€éå¾ªç¯hashæ³•
æ–¹æ³•äºŒä»£ç ä¼˜åŒ–ï¼Œç›´æ¥ä¸€éå¾ªç¯ï¼Œå°†æ•°æ®çš„ç»Ÿè®¡å’Œæ±‚å’Œè®¡ç®—æ•´åˆåˆ°ä¸€ä¸ªå¾ªç¯ä¸­ã€‚
### ä»£ç 

```java []
class Solution {
    public int maxOperations(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap<>(nums.length);
        int result = 0;
        //ç»Ÿè®¡æ¯ä¸ªæ•°æ®å‡ºç°çš„æ¬¡æ•°ï¼Œkeyä¸ºæ•°æ®ï¼Œvalueä¸ºæ¬¡æ•°
        for (int num : nums) {
            // è·å–æ±‚å’Œçš„å¦ä¸€ä¸ªæ•°
            int x = k - num;
            // ä»mapè·å–x
            Integer i = map.get(x);
            // æ˜¯å¦æœ‰ å¦ä¸€ä¸ªæ•°æ®ã€‚ä¸”ç»Ÿè®¡çš„æ•°é‡å¤§äº0
            if (i != null && map.get(x) > 0) {
                result++;//ç»“æœ+1
                map.put(x, map.get(x) - 1);// æ•°é‡å‡ä¸€
                continue;
            }
            //è¿™ä¸ªæ•°æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œç»Ÿè®¡æ•°é‡+1
            Integer count = map.getOrDefault(num, 0);
            map.put(num, count + 1);
        }
        return result;
    }
}
```
æ—¶é—´å¤æ‚åº¦O(n),ç©ºé—´å¤æ‚åº¦O(n)ã€‚


## æ–¹æ³•å››ï¼šæ•°ç»„å®šä½ç»Ÿè®¡æ³•ã€å¯æƒœå†…å­˜è¶…è¿‡é™åˆ¶ã€‘
ç»§ç»­åœ¨æ–¹æ³•ä¸‰ä¼˜åŒ–ï¼Œç›´æ¥é€šè¿‡æ•°ç»„æ˜ å°„çš„æ–¹å¼ï¼Œç»Ÿè®¡æ•°æ®ï¼Œä¸éœ€è¦hashï¼Œç›´æ¥æ˜ å°„ï¼ŒæŒ‰ç†è¯´é€Ÿåº¦æ›´å¿«ï¼Œå¯æƒœæ•°æ®çš„å–å€¼å¤ªå¤§äº†ã€‚å¯¼è‡´éœ€è¦çš„å†…å­˜å¤ªå¤§ã€‚
32ä½*10^9 = 32,000,000,000 bit â‰ˆ3.725Gå†…å­˜ã€‚

```java []
class Solution {
    public int maxOperations(int[] nums, int k) {
        int[] count = new int[1000000000];
        int result = 0;
        //ç»Ÿè®¡æ¯ä¸ªæ•°æ®å‡ºç°çš„æ¬¡æ•°
        for (int num : nums) {
            // è·å–æ±‚å’Œçš„å¦ä¸€ä¸ªæ•°
            int x = k - num;
            // æ˜¯å¦æœ‰ å¦ä¸€ä¸ªæ•°æ®ã€‚ä¸”ç»Ÿè®¡çš„æ•°é‡å¤§äº0
            if (count[x] > 0) {
                result++;//ç»“æœ+1
                count[x]--;// æ•°é‡å‡ä¸€
                continue;
            }
            //è¿™ä¸ªæ•°æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œç»Ÿè®¡æ•°é‡+1
            count[num]++;
        }
        return result;
    }
}
```
æ—¶é—´å¤æ‚åº¦O(n),ç©ºé—´å¤æ‚åº¦O(n)ã€‚

------
------

# æ€»ç»“
æŒ‰ç†è¯´æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤§äºhashçš„ï¼Œä½†æ˜¯ä»–çš„ä»£ç æ•ˆç‡åè€Œæ›´é«˜ï¼Œè¯´æ˜hashç®—æ³•çš„æ•ˆç‡å¤ªä½ï¼Œæˆ–è€…å†²çªä¸¥é‡ã€‚

**ç‚¹ä¸ªğŸ‘å†èµ°å‘—ğŸ˜‚ğŸ˜˜ğŸ˜ŠğŸ˜ğŸ˜­ğŸ˜œğŸ˜ğŸ˜„**