## [675.ä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘ ä¸­æ–‡çƒ­é—¨é¢˜è§£2](https://leetcode.cn/problems/cut-off-trees-for-golf-event/solutions/100000/by-fuxuemingzhu-dtet)

ä½œè€…ï¼š[fuxuemingzhu](https://leetcode.cn/u/fuxuemingzhu)

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ [@è´Ÿé›ªæ˜çƒ›](https://leetcode-cn.com/u/fuxuemingzhu/)ã€‚ç‚¹å‡»å³ä¸Šæ–¹çš„ã€Œ**+å…³æ³¨**ã€**â†—**ï¼Œä¼˜è´¨é¢˜è§£ä¸é—´æ–­ï¼

## é¢˜ç›®å¤§æ„

é¢˜æ„å¾ˆæ¨¡ç³Šï¼Œä½ å¯èƒ½æ²¡è¯»æ‡‚ï¼ï¼

è®©æˆ‘ä»¬ç æ ‘ï¼ˆæ•°å€¼å¤§äº 1 çš„æ˜¯æ ‘ğŸŒ²ï¼‰ï¼Œä½†æ˜¯ç æ ‘æœ‰ä¸ªè§„åˆ™ï¼Œ**å¿…é¡»ä»ä½å‘é«˜ç **ï¼Œé—®ç å®Œæ‰€æœ‰æ ‘çš„ç§»åŠ¨æ­¥æ•°ã€‚


é¢˜ç›®ç»™å‡ºçš„ç¤ºä¾‹ä¸å¤Ÿæ¸…æ™°ã€‚çœ‹çœ‹æˆ‘ä¸‹é¢è¿™å‡ å¼ å›¾ï¼Œåº”è¯¥ç§’æ‡‚äº†ã€‚

çº¢è‰²çš„æ ¼å­æ˜¯æ¯æ¬¡ç§»åŠ¨çš„èµ·ç‚¹ï¼Œè“è‰²çš„æ˜¯æ¯æ¬¡çš„ç›®æ ‡ã€‚

<![675. ä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘.001.png](https://pic.leetcode-cn.com/1653272053-rMHvfD-675.%20%E4%B8%BA%E9%AB%98%E5%B0%94%E5%A4%AB%E6%AF%94%E8%B5%9B%E7%A0%8D%E6%A0%91.001.png),![675. ä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘.002.png](https://pic.leetcode-cn.com/1653272053-LAPqcL-675.%20%E4%B8%BA%E9%AB%98%E5%B0%94%E5%A4%AB%E6%AF%94%E8%B5%9B%E7%A0%8D%E6%A0%91.002.png),![675. ä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘.003.png](https://pic.leetcode-cn.com/1653272053-HGBEAC-675.%20%E4%B8%BA%E9%AB%98%E5%B0%94%E5%A4%AB%E6%AF%94%E8%B5%9B%E7%A0%8D%E6%A0%91.003.png)>



## è§£é¢˜æ–¹æ³•

### åˆ†æ

æ ¹æ®é¢˜æ„ï¼Œæ€»çš„ç§»åŠ¨æ­¥æ•°ä¸ºï¼šä»**èµ·ç‚¹**åˆ°**æœ€ä½çš„æ ‘**çš„æœ€å°‘æ­¥æ•° + ä»**æœ€ä½çš„æ ‘**åˆ°**ç¬¬ 2 ä½**çš„æ ‘çš„æœ€å°‘æ­¥æ•° + ä»**ç¬¬ 2 ä½**çš„æ ‘åˆ°**ç¬¬ 3 ä½**çš„æ ‘çš„æœ€å°‘æ­¥æ•° + ... ç›´è‡³æ‰€æœ‰æ ‘è¢«ç å®Œã€‚

ç”¨å›¾è¡¨ç¤ºå°±æ˜¯å¦‚ä¸‹ï¼š


![675. ä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘.004.png](https://pic.leetcode-cn.com/1653272074-zshaan-675.%20%E4%B8%BA%E9%AB%98%E5%B0%94%E5%A4%AB%E6%AF%94%E8%B5%9B%E7%A0%8D%E6%A0%91.004.png)


æ±‚æœ€å°‘ç§»åŠ¨æ­¥æ•°ï¼Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨ BFS å»åšã€‚


#### åˆ†äº« BFS æ¨¡æ¿ï¼š

BFSä½¿ç”¨é˜Ÿåˆ—ï¼ŒæŠŠæ¯ä¸ªè¿˜æ²¡æœ‰æœç´¢åˆ°çš„ç‚¹ä¾æ¬¡æ”¾å…¥é˜Ÿåˆ—ï¼Œç„¶åå†å¼¹å‡ºé˜Ÿåˆ—çš„å¤´éƒ¨å…ƒç´ å½“åšå½“å‰éå†ç‚¹ã€‚

BFSæ€»å…±æœ‰ä¸¤ä¸ªæ¨¡æ¿ï¼š

#### æ¨¡æ¿ä¸€ï¼š

å¦‚æœä¸éœ€è¦ç¡®å®šå½“å‰éå†åˆ°äº†å“ªä¸€å±‚ï¼Œåªéœ€è¦è®¿é—®å®Œæ‰€æœ‰èŠ‚ç‚¹å°±å¯ä»¥æ—¶ã€‚

BFS æ¨¡æ¿å¦‚ä¸‹ï¼š

```python
while queue ä¸ç©ºï¼š
    cur = queue.pop()
    if cur æœ‰æ•ˆä¸”æœªè¢«è®¿é—®è¿‡ï¼š
        è¿›è¡Œå¤„ç†
    for èŠ‚ç‚¹ in cur çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ï¼š
        if è¯¥èŠ‚ç‚¹æœ‰æ•ˆï¼š
            queue.push(è¯¥èŠ‚ç‚¹)
```

#### æ¨¡æ¿äºŒï¼š

å¦‚æœè¦ç¡®å®šå½“å‰éå†åˆ°äº†å“ªä¸€å±‚ï¼Œéœ€è¦çŸ¥é“æœ€å°‘ç§»åŠ¨æ­¥æ•°æ—¶ï¼ŒBFS æ¨¡æ¿å¦‚ä¸‹ã€‚

è¿™é‡Œå¢åŠ äº† `level` è¡¨ç¤ºå½“å‰éå†åˆ°äºŒå‰æ ‘ä¸­çš„å“ªä¸€å±‚äº†ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºåœ¨ä¸€ä¸ªå›¾ä¸­ï¼Œç°åœ¨å·²ç»èµ°äº†å¤šå°‘æ­¥äº†ã€‚`size` è¡¨ç¤ºåœ¨å½“å‰éå†å±‚æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ•°ï¼Œæˆ‘ä»¬æŠŠè¿™äº›å…ƒç´ ä¸€æ¬¡æ€§éå†å®Œï¼Œå³æŠŠå½“å‰å±‚çš„æ‰€æœ‰å…ƒç´ éƒ½å‘å¤–èµ°äº†ä¸€æ­¥ã€‚

```python
level = 0
while queue ä¸ç©ºï¼š
    size = queue.size()
    while (size --) {
        cur = queue.pop()
        if cur æœ‰æ•ˆä¸”æœªè¢«è®¿é—®è¿‡ï¼š
            è¿›è¡Œå¤„ç†
        for èŠ‚ç‚¹ in curçš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ï¼š
            if è¯¥èŠ‚ç‚¹æœ‰æ•ˆï¼š
                queue.push(è¯¥èŠ‚ç‚¹)
    }
    level ++;
```

**ä¸Šé¢ä¸¤ä¸ªæ˜¯é€šç”¨æ¨¡æ¿ï¼Œåœ¨ä»»ä½•é¢˜ç›®ä¸­éƒ½å¯ä»¥ç”¨ï¼Œæ˜¯è¦ç†è§£å¹¶ä¸”è®°ä½çš„ï¼**


æœ¬é¢˜éœ€è¦çŸ¥é“æ±‚æœ€å°‘æ­¥æ•°ï¼Œå› æ­¤ä½¿ç”¨æ¨¡æ¿äºŒã€‚


### ä»£ç 

ç”±äºæ—¶é—´æ¯”è¾ƒç´§ï¼Œåªå†™äº† Python ä»£ç ï¼Œå…¶ä»–è¯­è¨€çš„ä»£ç ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºä¸­è¡¥å……å“¦ï¼ï¼

```Python []
class Solution:
    def cutOffTree(self, forest: List[List[int]]) -> int:
        M = len(forest)
        N = len(forest[0])
        trees = []
        for i in range(M):
            for j in range(N):
                if (forest[i][j] > 1):
                    trees.append((forest[i][j], i, j))
        trees.sort()
        preX, preY = 0, 0
        res = 0
        for height, curX, curY in trees:
            steps = self.bfs(forest, preX, preY, curX, curY)
            if steps == -1:
                return -1
            res += steps
            preX, preY = curX, curY
        return res
    
    def bfs(self, forest, startX, startY, targetX, targetY):
        M = len(forest)
        N = len(forest[0])
        dirs = [(0, 1), (0, -1), (-1, 0), (1, 0)]
        steps = 0
        queue = collections.deque()
        queue.append((startX, startY))
        visited = set()
        visited.add((startX, startY))
        while queue:
            size = len(queue)
            for _ in range(size):
                curX, curY = queue.popleft()
                if curX == targetX and curY == targetY:
                    return steps
                for d in dirs:
                    nX = curX + d[0]
                    nY = curY + d[1]
                    if 0 <= nX < M and 0 <= nY < N and forest[nX][nY] != 0 and ((nX, nY) not in visited):
                        queue.append((nX, nY))
                        visited.add((nX, nY))
            steps += 1
        return -1
```



### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ï¼š$O(M^2*N^2)$ï¼Œå¯èƒ½æœ‰ $M * N$æ£µæ ‘ï¼Œæ¯æ¬¡ç§»åŠ¨æœ€å¤š $M * N$æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(M*N)$ã€‚


## æ€»ç»“

1. ç†è§£é¢˜æ„å•Šï¼ï¼
2. ä¸æ¨èä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘å“¦ï¼


å‚è€ƒèµ„æ–™ï¼š[èŠ±èŠ±é…±](https://www.youtube.com/watch?v=OFkLC30OxXM)

---

æˆ‘æ˜¯ [@è´Ÿé›ªæ˜çƒ›](https://leetcode-cn.com/u/fuxuemingzhu/) ï¼Œåˆ·ç®—æ³•é¢˜ 1000 å¤šé“ï¼Œå†™äº† 1000 å¤šç¯‡ç®—æ³•é¢˜è§£ï¼Œæ”¶è·é˜…è¯»é‡ 300 ä¸‡ã€‚
**å…³æ³¨æˆ‘**ï¼Œä½ å°†ä¸ä¼šé”™è¿‡æˆ‘çš„ç²¾å½©åŠ¨ç”»é¢˜è§£ã€é¢è¯•é¢˜åˆ†äº«ã€ç»„é˜Ÿåˆ·é¢˜æ´»åŠ¨ï¼Œè¿›å…¥ä¸»é¡µ [@è´Ÿé›ªæ˜çƒ›](https://leetcode-cn.com/u/fuxuemingzhu/) å³ä¾§æœ‰åˆ·é¢˜ç»„ç»‡ï¼Œä»æ­¤åˆ·é¢˜ä¸å†å­¤å•ã€‚

- åœ¨åˆ·é¢˜çš„æ—¶å€™ï¼Œå¦‚æœä½ ä¸çŸ¥é“è¯¥æ€ä¹ˆåˆ·é¢˜ï¼Œå¯ä»¥çœ‹ [LeetCode åº”è¯¥æ€ä¹ˆåˆ·ï¼Ÿ](https://mp.weixin.qq.com/s/viDYrSlF5INEhVWiJhM2EQ)
- å¦‚æœä½ è§‰å¾—é¢˜ç›®å¤ªå¤šï¼Œæƒ³åœ¨çŸ­æ—¶é—´å†…å¿«é€Ÿæé«˜ï¼Œå¯ä»¥çœ‹ [LeetCode æœ€ç»å…¸çš„ 100 é“é¢˜](https://mp.weixin.qq.com/s/e51CEkEP6Wz850JYbgz8dw)ã€‚
- é€ä½ ä¸€ä»½åˆ·é¢˜çš„ä»£ç æ¨¡æ¿ï¼š[ã€LeetCodeã€‘ä»£ç æ¨¡æ¿ï¼Œåˆ·é¢˜å¿…ä¼š](https://blog.csdn.net/fuxuemingzhu/article/details/101900729)
- æˆ‘å†™çš„ 1000 é“ LeetCode é¢˜è§£ï¼Œ[éƒ½åœ¨è¿™é‡Œäº†ï¼Œå…è´¹æ‹¿èµ°](https://leetcode-cn.com/link/?target=https%3A%2F%2Fgithub.com%2Ffuxuemingzhu%2FLeetcode-Solution-All)ã€‚