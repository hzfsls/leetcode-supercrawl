## [738.å•è°ƒé€’å¢çš„æ•°å­— ä¸­æ–‡çƒ­é—¨é¢˜è§£3](https://leetcode.cn/problems/monotone-increasing-digits/solutions/100000/738-dan-diao-di-zeng-de-shu-zi-tan-xin-s-vq4r)

ä½œè€…ï¼š[carlsun-2](https://leetcode.cn/u/carlsun-2)
**ã€Šä»£ç éšæƒ³å½•ã€‹ç®—æ³•è§†é¢‘å…¬å¼€è¯¾ï¼š[è´ªå¿ƒç®—æ³•ï¼Œæ€è·¯ä¸éš¾æƒ³ï¼Œä½†ä»£ç ä¸å¥½å†™ï¼LeetCode:738.å•è°ƒè‡ªå¢çš„æ•°å­—](https://www.bilibili.com/video/BV1Kv4y1x7tP)ï¼Œç›¸ä¿¡ç»“åˆè§†é¢‘åœ¨çœ‹æœ¬ç¯‡é¢˜è§£ï¼Œæ›´æœ‰åŠ©äºå¤§å®¶å¯¹æœ¬é¢˜çš„ç†è§£**ã€‚


## æš´åŠ›è§£æ³•

é¢˜æ„å¾ˆç®€å•ï¼Œé‚£ä¹ˆé¦–å…ˆæƒ³çš„å°±æ˜¯æš´åŠ›è§£æ³•äº†ï¼Œæ¥æˆ‘æ›¿å¤§å®¶æš´åŠ›ä¸€æ³¢ï¼Œç»“æœè‡ªç„¶æ˜¯è¶…æ—¶ï¼

ä»£ç å¦‚ä¸‹ï¼š
```CPP
class Solution {
private:
    // åˆ¤æ–­ä¸€ä¸ªæ•°å­—çš„å„ä½ä¸Šæ˜¯å¦æ˜¯é€’å¢
    bool checkNum(int num) {
        int max = 10;
        while (num) {
            int t = num % 10;
            if (max >= t) max = t;
            else return false;
            num = num / 10;
        }
        return true;
    }
public:
    int monotoneIncreasingDigits(int N) {
        for (int i = N; i > 0; i--) { // ä»å¤§åˆ°å°éå†
            if (checkNum(i)) return i;
        }
        return 0;
    }
};
```
* æ—¶é—´å¤æ‚åº¦ï¼šO(n Ã— m) mä¸ºnçš„æ•°å­—é•¿åº¦
* ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## è´ªå¿ƒç®—æ³•

é¢˜ç›®è¦æ±‚å°äºç­‰äºNçš„æœ€å¤§å•è°ƒé€’å¢çš„æ•´æ•°ï¼Œé‚£ä¹ˆæ‹¿ä¸€ä¸ªä¸¤ä½çš„æ•°å­—æ¥ä¸¾ä¾‹ã€‚

ä¾‹å¦‚ï¼š98ï¼Œä¸€æ—¦å‡ºç°strNum[i - 1] > strNum[i]çš„æƒ…å†µï¼ˆéå•è°ƒé€’å¢ï¼‰ï¼Œé¦–å…ˆæƒ³è®©strNum[i - 1]--ï¼Œç„¶åstrNum[i]ç»™ä¸º9ï¼Œè¿™æ ·è¿™ä¸ªæ•´æ•°å°±æ˜¯89ï¼Œå³å°äº98çš„æœ€å¤§çš„å•è°ƒé€’å¢æ•´æ•°ã€‚

è¿™ä¸€ç‚¹å¦‚æœæƒ³æ¸…æ¥šäº†ï¼Œè¿™é“é¢˜å°±å¥½åŠäº†ã€‚

æ­¤æ—¶æ˜¯ä»å‰å‘åéå†è¿˜æ˜¯ä»åå‘å‰éå†å‘¢ï¼Ÿ

ä»å‰å‘åéå†çš„è¯ï¼Œé‡åˆ°strNum[i - 1] > strNum[i]çš„æƒ…å†µï¼Œè®©strNum[i - 1]å‡ä¸€ï¼Œä½†æ­¤æ—¶å¦‚æœstrNum[i - 1]å‡ä¸€äº†ï¼Œå¯èƒ½åˆå°äºstrNum[i - 2]ã€‚

è¿™ä¹ˆè¯´æœ‰ç‚¹æŠ½è±¡ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæ•°å­—ï¼š332ï¼Œä»å‰å‘åéå†çš„è¯ï¼Œé‚£ä¹ˆå°±æŠŠå˜æˆäº†329ï¼Œæ­¤æ—¶2åˆå°äºäº†ç¬¬ä¸€ä½çš„3äº†ï¼ŒçœŸæ­£çš„ç»“æœåº”è¯¥æ˜¯299ã€‚

é‚£ä¹ˆä»åå‘å‰éå†ï¼Œå°±å¯ä»¥é‡å¤åˆ©ç”¨ä¸Šæ¬¡æ¯”è¾ƒå¾—å‡ºçš„ç»“æœäº†ï¼Œä»åå‘å‰éå†332çš„æ•°å€¼å˜åŒ–ä¸ºï¼š332 -> 329 -> 299

ç¡®å®šäº†éå†é¡ºåºä¹‹åï¼Œé‚£ä¹ˆæ­¤æ—¶å±€éƒ¨æœ€ä¼˜å°±å¯ä»¥æ¨å‡ºå…¨å±€ï¼Œæ‰¾ä¸å‡ºåä¾‹ï¼Œè¯•è¯•è´ªå¿ƒã€‚

C++ä»£ç å¦‚ä¸‹ï¼š

```CPP
class Solution {
public:
    int monotoneIncreasingDigits(int N) {
        string strNum = to_string(N);
        // flagç”¨æ¥æ ‡è®°èµ‹å€¼9ä»å“ªé‡Œå¼€å§‹
        // è®¾ç½®ä¸ºè¿™ä¸ªé»˜è®¤å€¼ï¼Œä¸ºäº†é˜²æ­¢ç¬¬äºŒä¸ªforå¾ªç¯åœ¨flagæ²¡æœ‰è¢«èµ‹å€¼çš„æƒ…å†µä¸‹æ‰§è¡Œ
        int flag = strNum.size();
        for (int i = strNum.size() - 1; i > 0; i--) {
            if (strNum[i - 1] > strNum[i] ) {
                flag = i;
                strNum[i - 1]--;
            }
        }
        for (int i = flag; i < strNum.size(); i++) {
            strNum[i] = '9';
        }
        return stoi(strNum);
    }
};

```

* æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œn ä¸ºæ•°å­—é•¿åº¦
* ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œéœ€è¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ“ä½œæ›´æ–¹ä¾¿

## æ€»ç»“

æœ¬é¢˜åªè¦æƒ³æ¸…æ¥šä¸ªä¾‹ï¼Œä¾‹å¦‚98ï¼Œä¸€æ—¦å‡ºç°strNum[i - 1] > strNum[i]çš„æƒ…å†µï¼ˆéå•è°ƒé€’å¢ï¼‰ï¼Œé¦–å…ˆæƒ³è®©strNum[i - 1]å‡ä¸€ï¼ŒstrNum[i]èµ‹å€¼9ï¼Œè¿™æ ·è¿™ä¸ªæ•´æ•°å°±æ˜¯89ã€‚å°±å¯ä»¥å¾ˆè‡ªç„¶æƒ³åˆ°å¯¹åº”çš„è´ªå¿ƒè§£æ³•äº†ã€‚

æƒ³åˆ°äº†è´ªå¿ƒï¼Œè¿˜è¦è€ƒè™‘éå†é¡ºåºï¼Œåªæœ‰ä»åå‘å‰éå†æ‰èƒ½é‡å¤åˆ©ç”¨ä¸Šæ¬¡æ¯”è¾ƒçš„ç»“æœã€‚

æœ€åä»£ç å®ç°çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦ä¸€äº›æŠ€å·§ï¼Œä¾‹å¦‚ç”¨ä¸€ä¸ªflagæ¥æ ‡è®°ä»å“ªé‡Œå¼€å§‹èµ‹å€¼9ã€‚


## å…¶ä»–è¯­è¨€ç‰ˆæœ¬

```java []
ç‰ˆæœ¬1
class Solution {
    public int monotoneIncreasingDigits(int N) {
        String[] strings = (N + "").split("");
        int start = strings.length;
        for (int i = strings.length - 1; i > 0; i--) {
            if (Integer.parseInt(strings[i]) < Integer.parseInt(strings[i - 1])) {
                strings[i - 1] = (Integer.parseInt(strings[i - 1]) - 1) + "";
                start = i;
            }
        }
        for (int i = start; i < strings.length; i++) {
            strings[i] = "9";
        }
        return Integer.parseInt(String.join("",strings));
    }
}

// javaç‰ˆæœ¬1ä¸­åˆ›å»ºäº†Stringæ•°ç»„ï¼Œå¤šæ¬¡ä½¿ç”¨Integer.parseIntäº†æ–¹æ³•ï¼Œè¿™å¯¼è‡´ä¸ç®¡æ˜¯è€—æ—¶è¿˜æ˜¯ç©ºé—´å ç”¨éƒ½éå¸¸é«˜ï¼Œç”¨æ—¶12msï¼Œä¸‹é¢æä¾›ä¸€ä¸ªç‰ˆæœ¬åœ¨charæ•°ç»„ä¸ŠåŸåœ°ä¿®æ”¹ï¼Œç”¨æ—¶1msçš„ç‰ˆæœ¬
ç‰ˆæœ¬2
class Solution {
    public int monotoneIncreasingDigits(int n) {
        String s = String.valueOf(n);
        char[] chars = s.toCharArray();
        int start = s.length();
        for (int i = s.length() - 2; i >= 0; i--) {
            if (chars[i] > chars[i + 1]) {
                chars[i]--;
                start = i+1;
            }
        }
        for (int i = start; i < s.length(); i++) {
            chars[i] = '9';
        }
        return Integer.parseInt(String.valueOf(chars));
    }
}
```


```python []
class Solution:
    def monotoneIncreasingDigits(self, n: int) -> int:
        a = list(str(n))
        for i in range(len(a)-1,0,-1):
            if int(a[i]) < int(a[i-1]):
                a[i-1] = str(int(a[i-1]) - 1)
                a[i:] = '9' * (len(a) - i)  #pythonä¸éœ€è¦è®¾ç½®flagå€¼ï¼Œç›´æ¥æŒ‰é•¿åº¦ç»™9å°±å¥½äº†
        return int("".join(a)) 
```

```go []
func monotoneIncreasingDigits(N int) int {
    s := strconv.Itoa(N)//å°†æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œæ–¹ä¾¿ä½¿ç”¨ä¸‹æ ‡
    ss := []byte(s)//å°†å­—ç¬¦ä¸²è½¬ä¸ºbyteæ•°ç»„ï¼Œæ–¹ä¾¿æ›´æ”¹ã€‚
    n := len(ss)
    if n <= 1 {
        return N
    }
    for i := n-1; i > 0; i-- {
        if ss[i-1] > ss[i] {   //å‰ä¸€ä¸ªå¤§äºåä¸€ä½,å‰ä¸€ä½å‡1ï¼Œåé¢çš„å…¨éƒ¨ç½®ä¸º9
            ss[i-1] -= 1
            for j := i; j < n; j++ {   //åé¢çš„å…¨éƒ¨ç½®ä¸º9
                ss[j] = '9'
            }
        } 
    }
    res, _ := strconv.Atoi(string(ss))
    return res 
}
```

```Javascript []
var monotoneIncreasingDigits = function(n) {
    n = n.toString()
    n = n.split('').map(item => {
        return +item
    })
    let flag = Infinity
    for(let i = n.length - 1; i > 0; i--) {
        if(n [i - 1] > n[i]) {
            flag = i
            n[i - 1] = n[i - 1] - 1
            n[i] = 9
        }
    }

    for(let i = flag; i < n.length; i++) {
        n[i] = 9
    }

    n = n.join('')
    return +n
};
```


```typescript []
function monotoneIncreasingDigits(n: number): number {
    let strArr: number[] = String(n).split('').map(i => parseInt(i));
    const length = strArr.length;
    let flag: number = length;
    for (let i = length - 2; i >= 0; i--) {
        if (strArr[i] > strArr[i + 1]) {
            strArr[i] -= 1;
            flag = i + 1;
        }
    }
    for (let i = flag; i < length; i++) {
        strArr[i] = 9;
    }
    return parseInt(strArr.join(''));
};
```



 
```scala []
// ç›´æ¥è½¬æ¢ä¸ºäº†æ•´æ•°æ•°ç»„: 
object Solution {
  import scala.collection.mutable
  def monotoneIncreasingDigits(n: Int): Int = {
    var digits = mutable.ArrayBuffer[Int]()
    // æå–æ¯ä½æ•°å­—
    var temp = n // å› ä¸º å‚æ•°n æ˜¯ä¸å¯å˜é‡æ‰€ä»¥éœ€è¦èµ‹å€¼ç»™ä¸€ä¸ªå¯å˜é‡
    while (temp != 0) {
      digits.append(temp % 10)
      temp = temp / 10
    }
    // è´ªå¿ƒ
    var flag = -1 
    for (i <- 0 until (digits.length - 1) if digits(i) < digits(i + 1)) {
      flag = i
      digits(i + 1) -= 1
    }
    for (i <- 0 to flag) digits(i) = 9

    // æ‹¼æ¥
    var res = 0
    for (i <- 0 until digits.length) {
      res += digits(i) * math.pow(10, i).toInt
    }
    res
  }
}
```

```Rust []
impl Solution {
    pub fn monotone_increasing_digits(n: i32) -> i32 {
        let mut n_bytes = n.to_string().into_bytes();
        let mut flag = n_bytes.len();
        for i in (1..n_bytes.len()).rev() {
            if n_bytes[i - 1] > n_bytes[i] {
                flag = i;
                n_bytes[i - 1] -= 1;
            }
        }
        for v in n_bytes.iter_mut().skip(flag) {
            *v = 57;
        }
        n_bytes
            .into_iter()
            .fold(0, |acc, x| acc * 10 + x as i32 - 48)
    }
}
``` 

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜Carlï¼Œå¦‚æœä½ è¿˜åœ¨æ²¡æœ‰ç« æ³•çš„åˆ·é¢˜ï¼Œ**å»ºè®®æŒ‰ç…§[ä»£ç éšæƒ³å½•åˆ·é¢˜è·¯çº¿](https://programmercarl.com/)æ¥åˆ·**ï¼Œå¹¶æä¾›[PDFä¸‹è½½](https://programmercarl.com/other/algo_pdf.html)ï¼Œåˆ·é¢˜è·¯çº¿åŒæ—¶ä¹Ÿå¼€æºåœ¨[Github](https://github.com/youngyangyang04/leetcode-master)ä¸Šï¼Œä½ ä¼šå‘ç°è¯¦è§å¾ˆæ™šï¼

**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**

