## [1796.å­—ç¬¦ä¸²ä¸­ç¬¬äºŒå¤§çš„æ•°å­— ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/second-largest-digit-in-a-string/solutions/100000/by-lcbin-hgty)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)

**æ–¹æ³•ä¸€ï¼šä¸€æ¬¡éå†**

æˆ‘ä»¬å®šä¹‰ $a$ å’Œ $b$ åˆ†åˆ«è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­å‡ºç°çš„æœ€å¤§æ•°å­—å’Œç¬¬äºŒå¤§æ•°å­—ï¼Œåˆå§‹æ—¶ $a = b = -1$ã€‚

éå†å­—ç¬¦ä¸² $s$ï¼Œå¦‚æœå½“å‰å­—ç¬¦æ˜¯æ•°å­—ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºæ•°å­— $v$ï¼Œå¦‚æœ $v \gt a$ï¼Œè¯´æ˜ $v$ æ˜¯å½“å‰å‡ºç°çš„æœ€å¤§æ•°å­—ï¼Œæˆ‘ä»¬å°† $b$ æ›´æ–°ä¸º $a$ï¼Œå¹¶å°† $a$ æ›´æ–°ä¸º $v$ï¼›å¦‚æœ $v \lt a$ï¼Œè¯´æ˜ $v$ æ˜¯å½“å‰å‡ºç°çš„ç¬¬äºŒå¤§æ•°å­—ï¼Œæˆ‘ä»¬å°† $b$ æ›´æ–°ä¸º $v$ã€‚

éå†ç»“æŸï¼Œè¿”å›ç¬¬äºŒå¤§çš„æ•°å­— $b$ å³å¯ã€‚


```python [sol1-Python3]
class Solution:
    def secondHighest(self, s: str) -> int:
        a = b = -1
        for c in s:
            if c.isdigit():
                v = int(c)
                if v > a:
                    a, b = v, a
                elif b < v < a:
                    b = v
        return b
```



```java [sol1-Java]
class Solution {
    public int secondHighest(String s) {
        int a = -1, b = -1;
        for (int i = 0; i < s.length(); ++i) {
            char c = s.charAt(i);
            if (Character.isDigit(c)) {
                int v = c - '0';
                if (v > a) {
                    b = a;
                    a = v;
                } else if (v > b && v < a) {
                    b = v;
                }
            }
        }
        return b;
    }
}
```



```cpp [sol1-C++]
class Solution {
public:
    int secondHighest(string s) {
        int a = -1, b = -1;
        for (char& c : s) {
            if (isdigit(c)) {
                int v = c - '0';
                if (v > a) {
                    b = a, a = v;
                } else if (v > b && v < a) {
                    b = v;
                }
            }
        }
        return b;
    }
};
```


```go [sol1-Go]
func secondHighest(s string) int {
	a, b := -1, -1
	for _, c := range s {
		if c >= '0' && c <= '9' {
			v := int(c - '0')
			if v > a {
				b, a = a, v
			} else if v > b && v < a {
				b = v
			}
		}
	}
	return b
}
```

æ—¶é—´å¤æ‚åº¦ $O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚å…¶ä¸­ $n$ ä¸ºå­—ç¬¦ä¸² $s$ çš„é•¿åº¦ã€‚

---

**æ–¹æ³•äºŒï¼šä½è¿ç®—**

æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•° $mask$ æ¥æ ‡è¯†å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ•°å­—ï¼Œå…¶ä¸­ $mask$ çš„ç¬¬ $i$ ä½è¡¨ç¤ºæ•°å­— $i$ æ˜¯å¦å‡ºç°è¿‡ã€‚

éå†å­—ç¬¦ä¸² $s$ï¼Œå¦‚æœå½“å‰å­—ç¬¦æ˜¯æ•°å­—ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºæ•°å­— $v$ï¼Œå°† $mask$ çš„ç¬¬ $v$ ä¸ªäºŒè¿›åˆ¶ä½çš„å€¼ç½®ä¸º $1$ã€‚

æœ€åï¼Œæˆ‘ä»¬ä»é«˜ä½å‘ä½ä½éå† $mask$ï¼Œæ‰¾åˆ°ç¬¬äºŒä¸ªä¸º $1$ çš„äºŒè¿›åˆ¶ä½ï¼Œå…¶å¯¹åº”çš„æ•°å­—å³ä¸ºç¬¬äºŒå¤§æ•°å­—ã€‚å¦‚æœä¸å­˜åœ¨ç¬¬äºŒå¤§æ•°å­—ï¼Œè¿”å› $-1$ã€‚


```python [sol2-Python3]
class Solution:
    def secondHighest(self, s: str) -> int:
        mask = reduce(or_, (1 << int(c) for c in s if c.isdigit()), 0)
        cnt = 0
        for i in range(9, -1, -1):
            if (mask >> i) & 1:
                cnt += 1
            if cnt == 2:
                return i
        return -1
```



```java [sol2-Java]
class Solution {
    public int secondHighest(String s) {
        int mask = 0;
        for (int i = 0; i < s.length(); ++i) {
            char c = s.charAt(i);
            if (Character.isDigit(c)) {
                mask |= 1 << (c - '0');
            }
        }
        for (int i = 9, cnt = 0; i >= 0; --i) {
            if (((mask >> i) & 1) == 1 && ++cnt == 2) {
                return i;
            }
        }
        return -1;
    }
}
```



```cpp [sol2-C++]
class Solution {
public:
    int secondHighest(string s) {
        int mask = 0;
        for (char& c : s) if (isdigit(c)) mask |= 1 << c - '0';
        for (int i = 9, cnt = 0; ~i; --i) if (mask >> i & 1 && ++cnt == 2) return i;
        return -1;
    }
};
```



```go [sol2-Go]
func secondHighest(s string) int {
	mask := 0
	for _, c := range s {
		if c >= '0' && c <= '9' {
			mask |= 1 << int(c-'0')
		}
	}
	for i, cnt := 9, 0; i >= 0; i-- {
		if mask>>i&1 == 1 {
			cnt++
			if cnt == 2 {
				return i
			}
		}
	}
	return -1
}
```


æ—¶é—´å¤æ‚åº¦ $O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚å…¶ä¸­ $n$ ä¸ºå­—ç¬¦ä¸² $s$ çš„é•¿åº¦ã€‚



---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿è¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆğŸ˜„~

