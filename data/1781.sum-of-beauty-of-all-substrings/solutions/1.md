## [1781.æ‰€æœ‰å­å­—ç¬¦ä¸²ç¾Žä¸½å€¼ä¹‹å’Œ ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/sum-of-beauty-of-all-substrings/solutions/100000/by-lcbin-sukq)

ä½œè€…ï¼š[lcbin](https://leetcode.cn/u/lcbin)


**æ–¹æ³•ä¸€ï¼šæžšä¸¾ + è®¡æ•°**

æžšä¸¾æ¯ä¸ªå­ä¸²çš„èµ·ç‚¹ä½ç½® $i$ï¼Œæ‰¾åˆ°ä»¥è¯¥èµ·ç‚¹ä½ç½®çš„å­—ç¬¦ä¸ºå·¦ç«¯ç‚¹çš„æ‰€æœ‰å­ä¸²ï¼Œç„¶åŽè®¡ç®—æ¯ä¸ªå­ä¸²çš„ç¾Žä¸½å€¼ï¼Œç´¯åŠ åˆ°ç­”æ¡ˆä¸­ã€‚


```python [sol1-Python3]
class Solution:
    def beautySum(self, s: str) -> int:
        ans, n = 0, len(s)
        for i in range(n):
            cnt = Counter()
            for j in range(i, n):
                cnt[s[j]] += 1
                ans += max(cnt.values()) - min(cnt.values())
        return ans
```


```java [sol1-Java]
class Solution {
    public int beautySum(String s) {
        int ans = 0;
        int n = s.length();
        for (int i = 0; i < n; ++i) {
            int[] cnt = new int[26];
            for (int j = i; j < n; ++j) {
                ++cnt[s.charAt(j) - 'a'];
                int mi = 1000, mx = 0;
                for (int v : cnt) {
                    if (v > 0) {
                        mi = Math.min(mi, v);
                        mx = Math.max(mx, v);
                    }
                }
                ans += mx - mi;
            }
        }
        return ans;
    }
}
```



```cpp [sol1-C++]
class Solution {
public:
    int beautySum(string s) {
        int ans = 0;
        int n = s.size();
        int cnt[26];
        for (int i = 0; i < n; ++i) {
            memset(cnt, 0, sizeof cnt);
            for (int j = i; j < n; ++j) {
                ++cnt[s[j] - 'a'];
                int mi = 1000, mx = 0;
                for (int& v : cnt) {
                    if (v > 0) {
                        mi = min(mi, v);
                        mx = max(mx, v);
                    }
                }
                ans += mx - mi;
            }
        }
        return ans;
    }
};
```


```go [sol1-Go]
func beautySum(s string) (ans int) {
	for i := range s {
		cnt := [26]int{}
		for j := i; j < len(s); j++ {
			cnt[s[j]-'a']++
			mi, mx := 1000, 0
			for _, v := range cnt {
				if v > 0 {
					if mi > v {
						mi = v
					}
					if mx < v {
						mx = v
					}
				}
			}
			ans += mx - mi
		}
	}
	return
}
```



```js [sol1-JavaScript]
/**
 * @param {string} s
 * @return {number}
 */
var beautySum = function (s) {
    let ans = 0;
    for (let i = 0; i < s.length; ++i) {
        const cnt = new Map();
        for (let j = i; j < s.length; ++j) {
            cnt.set(s[j], (cnt.get(s[j]) || 0) + 1);
            const t = Array.from(cnt.values());
            ans += Math.max(...t) - Math.min(...t);
        }
    }
    return ans;
};
```


æ—¶é—´å¤æ‚åº¦ $O(n^2 \times C)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(C)$ã€‚å…¶ä¸­ $n$ ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè€Œ $C$ ä¸ºå­—ç¬¦é›†çš„å¤§å°ã€‚æœ¬é¢˜ä¸­ $C = 26$ã€‚



---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿Žè¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿Žè¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµžæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆðŸ˜„~
