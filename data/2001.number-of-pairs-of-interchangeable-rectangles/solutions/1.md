## [2001.å¯äº’æ¢çŸ©å½¢çš„ç»„æ•° ä¸­æ–‡çƒ­é—¨é¢˜è§£1](https://leetcode.cn/problems/number-of-pairs-of-interchangeable-rectangles/solutions/100000/wei-rao-li-lun-zui-da-gong-yue-shu-hashm-muzr)

ä½œè€…ï¼š[wfnuser](https://leetcode.cn/u/wfnuser)
### è§£é¢˜æ€è·¯
å®½é«˜æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç®—å‡ºæ¥ã€‚ä½†æ˜¯ç›´æ¥ç”¨å†…å»ºçš„é«˜ç²¾åº¦å°æ•°çš„è¯ï¼Œå¾ˆå¯èƒ½ä¼šè¢«å¡ç²¾åº¦ã€‚

æ‰€ä»¥æˆ‘ä»¬æŠŠå®½é«˜æ¯”åŒ–æˆæœ‰ç†æ•°ï¼Œå³å®½å’Œé«˜éƒ½é™¤ä»¥ä»–ä»¬çš„æœ€å¤§å…¬çº¦æ•°ã€‚ç„¶åç”¨ä¸€ä¸ªhashmapå»ç®—åŒæ ·å®½é«˜æ¯”çš„çŸ©å½¢çš„æ•°é‡ï¼Œå†ä¹‹åå°±è½¬åŒ–æˆä¸€ä¸ªç»„åˆé—®é¢˜å•¦ã€‚
å³å®½é«˜æ¯”ç›¸åŒçš„çŸ©å½¢æœ‰Nä¸ªï¼Œé‚£ä¹ˆä»–ä»¬ç»„æˆå¤šå°‘ä¸ª**å¯äº’æ¢å¯¹**å‘¢ï¼ŸğŸ¤”

å¾ˆæ˜¾ç„¶ï¼Œç­”æ¡ˆæ˜¯ `N*(N-1)/2`

### ä»£ç 

```cpp
class Solution {
public:
    int gcd(int a, int b) {
        if (a < b) return gcd(b, a);
        if (a % b == 0) return b;
        return gcd(b, a%b);
    }
    
    unordered_map<int, unordered_map<int, long long>> cnt;
    
    long long interchangeableRectangles(vector<vector<int>>& rectangles) {
        for (auto r : rectangles) {
            int c = gcd(r[0], r[1]);
            r[0] /= c;
            r[1] /= c;
            
            cnt[r[0]][r[1]]++;
        }
        
        long long ans = 0;
        
        for (auto iter = cnt.begin(); iter != cnt.end(); iter++) {
            for (auto i = iter->second.begin(); i != iter->second.end(); i++) {
                ans += i->second * (i->second - 1) / 2;
            }
        }
        
        
        return ans;
    }
};
```

### ç›¸ä¼¼é¢˜ç›®ï¼š hash + è®¡æ•°
|é¢˜ç›®|éš¾åº¦|
|----------|------------|----------|
|[447.å›æ—‹é•–çš„æ•°é‡](https://leetcode-cn.com/problems/number-of-boomerangs/solution/wei-rao-li-lun-ha-xi-biao-ko-hui-xuan-bi-gnxy/)|ä¸­ç­‰|
|[2001.å¯äº’æ¢çŸ©å½¢çš„ç»„æ•°](https://leetcode-cn.com/problems/number-of-pairs-of-interchangeable-rectangles/solution/wei-rao-li-lun-zui-da-gong-yue-shu-hashm-muzr/)|ä¸­ç­‰|


### å…³äºæˆ‘
18å¹´æ¯•ä¸šäºä¸Šæµ·äº¤é€šå¤§å­¦ï¼Œä¸€ä¸ªåœ¨é˜¿é‡Œã€å­—èŠ‚ã€è…¾è®¯éƒ½å·¥ä½œè¿‡çš„å·¥ç¨‹å¸ˆï¼Œæœ‰ä¸°å¯Œçš„é¢è¯•ç»éªŒï¼Œä¸šä½™æ—¶é—´ä¹Ÿæ˜¯ã€æ‚–è®º13ã€‘å‰§æœ¬æ€çš„è€æ¿ã€‚å®åœ¨å·ä¸åŠ¨äº†ï¼Œç›®å‰(2021.8)åœ¨emqxä»äº‹å­˜å‚¨ç ”å‘ï¼Œå¸Œæœ›åœ¨ä»Šå¹´å¤šå¤šè¾“å‡ºã€‚
æƒ³äº†è§£æˆ‘å’Œæˆ‘çš„å…¬å¸æˆ–è€…ä¸€èµ·åˆ·é¢˜çš„å¯ä»¥ +v ï¼š constant_variation

æœ€åï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œ**å¯ä»¥ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹æˆ‘å“¦** ä¹Ÿæ¬¢è¿åœ¨leetcodeä¸Š[å…³æ³¨æˆ‘](https://leetcode-cn.com/u/wfnuser/)ã€‚