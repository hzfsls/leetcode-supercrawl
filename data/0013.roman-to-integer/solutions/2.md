## [13.ç½—é©¬æ•°å­—è½¬æ•´æ•° ä¸­æ–‡çƒ­é—¨é¢˜è§£2](https://leetcode.cn/problems/roman-to-integer/solutions/100000/2-xing-python-on-by-knifezhu)

ä½œè€…ï¼š[QQqun902025048](https://leetcode.cn/u/QQqun902025048)

### ä»£ç è§£è¯»
```Python []
class Solution:
    def romanToInt(self, s: str) -> int:
        d = {'I':1, 'IV':3, 'V':5, 'IX':8, 'X':10, 'XL':30, 'L':50, 'XC':80, 'C':100, 'CD':300, 'D':500, 'CM':800, 'M':1000}
        return sum(d.get(s[max(i-1, 0):i+1], d[n]) for i, n in enumerate(s))
```
```C++ []
class Solution {
public:
    int romanToInt(string s) {
        unordered_map<string, int> m = {{"I", 1}, {"IV", 3}, {"IX", 8}, {"V", 5}, {"X", 10}, {"XL", 30}, {"XC", 80}, {"L", 50}, {"C", 100}, {"CD", 300}, {"CM", 800}, {"D", 500}, {"M", 1000}};
        int r = m[s.substr(0, 1)];
        for(int i=1; i<s.size(); ++i){
            string two = s.substr(i-1, 2);
            string one = s.substr(i, 1);
            r += m[two] ? m[two] : m[one];
        }
        return r;
    }
};
```

### ä»£ç è¡Œæ•°ï¼šè§£æž
1. æž„å»ºä¸€ä¸ªå­—å…¸è®°å½•æ‰€æœ‰ç½—é©¬æ•°å­—å­ä¸²ï¼Œæ³¨æ„é•¿åº¦ä¸º `2` çš„å­ä¸²è®°å½•çš„å€¼æ˜¯ï¼ˆå®žé™…å€¼ - å­ä¸²å†…å·¦è¾¹ç½—é©¬æ•°å­—ä»£è¡¨çš„æ•°å€¼ï¼‰

2. è¿™æ ·ä¸€æ¥ï¼ŒéåŽ†æ•´ä¸ª $s$ çš„æ—¶å€™åˆ¤æ–­å½“å‰ä½ç½®å’Œå‰ä¸€ä¸ªä½ç½®çš„ä¸¤ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨å­—å…¸å†…ï¼Œå¦‚æžœåœ¨å°±è®°å½•å€¼ï¼Œä¸åœ¨å°±è¯´æ˜Žå½“å‰ä½ç½®ä¸å­˜åœ¨å°æ•°å­—åœ¨å‰é¢çš„æƒ…å†µï¼Œç›´æŽ¥è®°å½•å½“å‰ä½ç½®å­—ç¬¦å¯¹åº”å€¼

ä¸¾ä¸ªä¾‹å­ï¼ŒéåŽ†ç»è¿‡ $IV$ çš„æ—¶å€™å…ˆè®°å½• $I$ çš„å¯¹åº”å€¼ $1$ å†å¾€å‰ç§»åŠ¨ä¸€æ­¥è®°å½• $IV$ çš„å€¼ $3$ï¼ŒåŠ èµ·æ¥æ­£å¥½æ˜¯ $IV$ çš„çœŸå®žå€¼ $4$ã€‚max å‡½æ•°åœ¨è¿™é‡Œæ˜¯ä¸ºäº†é˜²æ­¢éåŽ†ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™å‡ºçŽ° $[-1:0]$ çš„æƒ…å†µ

### çŸ¥è¯†æ‹“å±•

![image.png](https://pic.leetcode-cn.com/576c1d21b07aa085382b70207b3e3a0521e1968f323b7efcb643769fd3babdfa-image.png){:width="320px"}
{:align=center}

ã€ðŸƒçŸ¥è¯†å¡ç‰‡ã€‘å“ˆå¸Œè¡¨å­˜å‚¨çš„æ˜¯ç”±é”®ï¼ˆ`key`ï¼‰å’Œå€¼ï¼ˆ`value`ï¼‰ç»„ æˆçš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªäººçš„æ€§åˆ«ä½œä¸ºæ•° æ®è¿›è¡Œå­˜å‚¨ï¼Œé”®ä¸ºäººåï¼Œå€¼ä¸ºå¯¹åº”çš„æ€§åˆ«ã€‚

  - Python ä¸­æˆ‘ä»¬ä½¿ç”¨å­—å…¸ `{key : value}` æ¥åˆå§‹åŒ–å“ˆå¸Œè¡¨

  - é€šè¿‡ `key` æŸ¥æ‰¾ `value` çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$

  - è¿™é¢˜é¢˜è§£ä¸­çš„ `d` å°±æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­ `get(key, default)` å‡½æ•°å¯ä»¥é€šè¿‡ `key` ä»Ž `d` ä¸­æ‰¾å‡ºå¯¹åº”çš„å€¼ï¼Œå¦‚æžœ `key` ä¸å­˜åœ¨åˆ™è¿”å›žé»˜è®¤å€¼ `default`